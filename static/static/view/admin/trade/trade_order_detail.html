<style>
	.body{
		padding: 30px;
		border: 1px solid #ddd;
	}
	
	.line {
		border-bottom: solid 1px #ddd;
	}
	
	.part {
		margin-top: 20px;
	}
	
	.head {
		width: 80px;
		line-height: 30px;
		clolor: red;
		padding-left: 15px;
		border: 1px solid #ddd;
	}
	
	.text-inverse {
		color: #f40;
	}
	
	.text-info {
		color:  #008000;
	}
	
	.orderid {
		border: 1px solid #ddd;
		padding: 5px;
	}
	
	.flow {
		padding: 25px;
	}
	
	.flow div {
		padding-top: 5px;
		padding-left: 14px;
	}
	
	.no {
		background-color: #DCDCDC;
	}
	
	.on {
		background-color: #FF7F50;
	}
	
	.already {
		background-color: #FFE4B5;
	}
	
	.newlog {
		color: #FF7F50;
	}	
	
	.row {
		line-height: 30px;
	}
</style>
<div class="orderid"><h3>订单号：<span class="content" ng-bind="orderDetailInfo.orderid"></span></h3></div>
<div class="row col-md-12">
	<div class="col-md-1 {{styl0}}"><span>待确认</span></div>
	<div class="col-md-1 {{styl1}}"><span>待付款</span></div>
	<div class="col-md-1 {{styl2}}"><span>已付款</span></div>
	<div class="col-md-1 {{styl3}}"><span>待出货</span></div>
	<div class="col-md-1 {{styl4}}"><span>出货中</span></div>
	<div class="col-md-1 {{styl5}}"><span>已出货</span></div>
	<div class="col-md-1 {{styl6}}"><span>发货中</span></div>
	<div class="col-md-1 {{styl7}}"><span>待收货</span></div>
	<div class="col-md-1 {{styl8}}"><span>已收货</span></div>
</div>
<div class="head"><a class="text-inverse">订单详情</a></div>
<div class="body row">
	<div class="row col-md-12">	
		<div class="row-fluid col-md-12">
			<div class="col-md-2"><h4>基本信息</h4></div>
		</div>
		<div class="row-fluid">
			<div class="col-md-3">
				<span>买方UU：</span>
				<span ng-bind="orderDetailInfo.buyeruu"></span>
			</div>
			<div class="col-md-3">
				<span>买方企业UU：</span>
				<span ng-bind="orderDetailInfo.buyerenuu"></span>
			</div>
			<div class="col-md-3">
				<span>卖方企业UU：</span>
				<span ng-bind="orderDetailInfo.sellerenuu"></span>
			</div>
		</div>
		<div class="row-fluid">
			<div class="col-md-3">
				<span>订单生成时间：</span>
				<span ng-bind = "orderDetailInfo.creattime| date:'yyyy-MM-dd HH:mm:ss'"></span>
			</div>
			<div class="col-md-3">
				<span>付款有效时间：</span>
				<span ng-bind = "orderDetailInfo.availabletime | date:'yyyy-MM-dd HH:mm:ss'"></span>
			</div>
			<div class="col-md-3">
				<span>订单状态：</span> 
				<span ng-if="orderDetailInfo.status == '315'">买家已取消</span>
				<span ng-if="orderDetailInfo.status == '405'">已收货</span>
				<span ng-if="orderDetailInfo.status == '412'">等待卖家同意</span>
				<span ng-if="orderDetailInfo.status == '413'">买家接单</span>
				<span ng-if="orderDetailInfo.status == '504'">已付款</span>
				<span ng-if="orderDetailInfo.status == '505'">已收款</span>
				<span ng-if="orderDetailInfo.status == '507'">待退款</span>
				<span ng-if="orderDetailInfo.status == '603'">付款超时取消</span>
				<span ng-if="orderDetailInfo.status == '604'">缺货取消</span>
				<span ng-if="orderDetailInfo.status == '610'">确定状态取消</span>
				<span ng-if="orderDetailInfo.status == '611'">已付款状态取消</span>
				<span ng-if="orderDetailInfo.status == '403'">出货中</span>
				<span ng-if="orderDetailInfo.status == '404'">待收货</span>
				<span ng-if="orderDetailInfo.status == '406'">待出货</span>
				<span ng-if="orderDetailInfo.status == '407'">已出货</span>
				<span ng-if="orderDetailInfo.status == '408'">发货中</span>
				<span ng-if="orderDetailInfo.status == '413'">卖家接单</span>
				<span ng-if="orderDetailInfo.status == '501'">待确认</span>
				<span ng-if="orderDetailInfo.status == '503'">待付款</span>					
			</div>
			<div class="col-md-3" ng-if="orderDetailInfo.proofingid != null">
				<span>产品类型：</span>
				<span class="text-inverse">样品</span>
			</div>
		</div>
	</div>
	<div class="part row col-md-12" ng-if="logistics.companyName != null">	
		<div class="row-fluid col-md-12">
			<div class="col-md-3"><h4>快递信息</h4></div>
		</div>
		<div class="row-fluid">
			<div class="col-md-3">
				<span>快递公司：</span>
				<span ng-bind="logistics.companyName"></span>
			</div>
			<div class="col-md-3">
				<span>快递单号：</span>
				<span ng-bind="logistics.number"></span>
			</div>
		</div>
<!-- 
		<div class="row-fluid">
			<div class="span4 newlog"><span>2016-03-09 12:02:43</span></div>		
			<div class="span4 newlog"><span>深圳市南山区</span></div>		
		</div>
		<div class="row-fluid">
			<div class="span4"><span>2016-03-09 08:43:02</span></div>
			<div class="span4"><span>广州市白云区</span></div>
		</div>
		<div class="row-fluid">
			<div class="span4"><span>2016-03-09 12:02:43</span></div>
			<div class="span4"><span>深圳市市南山区</span></div>
		</div>
 -->
 	</div>	
	<div class="part row col-md-12" ng-if="purc.purchaseid != null">	
		<div class="row-fluid col-md-12">
			<div class="col-md-3"><h4>转采购单信息:</h4></div>
			<div class="col-md-3">
				<span>采购单号：</span>
				<a target="_blank" ng-href="admin#/trade/purchase/{{purc.purchaseid}}">				
					<span ng-bind="purc.purchaseid"></span>
				</a>
				|
				<span ng-bind="purc.status | statusAndTypeFilter"></span>
			</div>
		</div>	
	</div>	
	<div class="part row col-md-12" ng-if="inFor.invoiceid != null">	
		<div class="row-fluid col-md-12">
			<div class="col-md-3"><h4>转发货单信息:</h4></div>
			<div class="col-md-3">
				<span>发货单号：</span>
				<a ng-href="admin#/trade/invoicefromorder/{{inFor.invoiceid}}">
					<span ng-bind="inFor.invoiceid"></span>
				</a>
				|
				<span ng-bind="inFor.status | statusAndTypeFilter"></span>
			</div>
		</div>	
	</div>	
	<div class="part row col-md-12">	
		<div class="row-fluid col-md-12">
			<div class="col-md-3"><h4>状态变更记录</h4></div>
		</div>
		<div class="row-fluid col-md-9">
			<div class="col-md-3">状态</div>
			<div class="col-md-3">操作者的UU</div>
			<div class="col-md-3">操作时间</div>
		</div>
		<div class="row-fluid col-md-9" ng-repeat="his in statushistory">
			<div class="col-md-3">
				<span ng-bind="his.status | statusAndTypeFilter"></span>
			</div>
			<div class="col-md-3"><span ng-bind="his.uu" ></span></div>
			<div class="col-md-3" ng-bind="his.time | date:'yyyy-MM-dd HH:mm:ss'"></div>
		</div>
		
	</div>	
	<div class="part row col-md-12"  ng-if="orderDetailInfo.proofingid == null">	
		<div class="row-fluid col-md-12">
			<div class="col-md-3"><h4>发票信息</h4></div>
		</div>
		<div class="row-fluid col-md-12">
			<div class="col-md-6">
				<span>发票类型：</span>
				<span ng-if="orderDetailInfo.invoicetype == 1205">增值税专用发票</span>
				<span ng-if="orderDetailInfo.invoicetype == 1206">增值税普通发票</span>
				<span ng-if="orderDetailInfo.invoicetype == null">无</span>
			</div>
			<div class="col-md-3">
				<span>发票抬头：</span>
				<span ng-bind="orderDetailInfo.invoicetitle"></span>
				<span ng-if="orderDetailInfo.invoicetitle == null">无</span>
			</div>
		</div>
		<div class="row-fluid col-md-12">
			<div class="col-md-9">
				<span>发票地址信息：</span>
				<span ng-bind="invoiceAddress.name"></span>&nbsp;
				<span ng-bind="invoiceAddress.telephone"></span>&nbsp;&nbsp;
				<span ng-bind="invoiceAddress.area"></span>&nbsp;
				<span ng-bind="invoiceAddress.detailAddress"></span>&nbsp;
			</div>
		</div>
	</div>	
	<div class="line part  row col-md-12">		
		<div class="row-fluid col-md-12">
			<div class="col-md-3"><h4>收货详情信息</h4></div>
		</div>
		<div class="row-fluid">
			<div class="col-md-3">
				<span>收货人：</span>
				<span ng-bind="address.name"></span>
			</div>		
			<div class="col-md-3">
				<span>收货人联系手机：</span>
				<span ng-bind="address.tel"></span>
			</div>		
			<div class="col-md-3">
				<span>邮箱：</span>
				<span ng-bind="address.email"></span>
			</div>		
		</div>
		<div class="row-fluid">
			<div class="col-md-3">
				<span>地区：</span>
				<span ng-bind="address.area"></span>
			</div>			
			<div class="col-md-3">
				<span>详细地址：</span>
				<span ng-bind="address.detailAddress"></span>
			</div>		
		</div>
	</div>
	<div class="line part  row col-md-12" ng-hide="orderDetailInfo.proofingid&&(orderDetailInfo.price == 0.0)">				
		<div class="row-fluid col-md-12">
			<div class="col-md-3"><h4>支付及配送方式</h4></div>
		</div>
		<div class="row-fluid">
			<div class="col-md-3">
				<span>付款方式：</span>
				<span ng-if="orderDetailInfo.paytype == '1101'">货到付款</span>
				<span ng-if="orderDetailInfo.paytype == '1102'">在线支付</span>
				<span ng-if="orderDetailInfo.paytype == '1103'">线下支付</span>
				<span ng-if="orderDetailInfo.paytype == '1104'">邮局汇款</span>
				<span ng-if="orderDetailInfo.paytype == null"><strong>未录入</strong></span>
				| 
				<span class = "text-inverse" ng-if="orderDetailInfo.status == '501' || orderDetailInfo.status == '503'">待付款</span>
				<span class = "text-info" ng-if="orderDetailInfo.status != '501' && orderDetailInfo.status != '503'">已付款</span>				
			</div>
			<div class="col-md-3">
				<span>付款时间：</span>
				<span>
					<span ng-bind="orderDetailInfo.paytime | date:'yyyy-MM-dd'"></span>
					<!--<span ng-bind="transferTime | date:'yyyy-MM-dd'"></span>-->
					<span ng-if="!orderDetailInfo.paytime">空</span>
				</span>
			</div>
			<div class="col-md-3">
				<span>转账时间：</span>
				<span>
					<!--<span ng-bind="orderDetailInfo.paytime | date:'yyyy-MM-dd'"></span>-->
					<span ng-bind="transferTime | date:'yyyy-MM-dd'"></span>
					<span ng-if="!transferTime">空</span>
				</span>
			</div>
		</div>
		<div class="row-fluid" ng-if="orderDetailInfo.banktfid != null">
			<div class="col-md-12">	
				<h4>银行信息:</h4>		
			</div>
			<div class="col-md-3">
				<span>收款方：</span><span ng-bind="orderDetailInfo.receiveName"></span>
				<!--<span ng-bind="orderDetailInfo.sellername"></span>-->
			</div>
			<div class="col-md-3">
				<span>开户行名称：</span>
				<span ng-bind="receiveBankInfo.bankname"></span>
			</div>
			<div class="col-md-3">
				<span>开户名：</span>
				<span ng-bind="receiveBankInfo.accountname"></span>
			</div>
			<div class="col-md-3">
				<span>账号：</span>
				<span ng-bind="receiveBankInfo.number"></span>
			</div>
		</div>
		<div class="row-fluid" ng-if="orderDetailInfo.banktfid != null">
			<div class="col-md-3">
				<span><a target="_blank"  href="{{imgUrl}}"><image alt="付款截图" ng-src="{{imgUrl}}" height="30px" width="60px"></image></a></span>
			</div>
			<div class="col-md-3">
				<span>付款方：</span><span ng-bind="orderDetailInfo.buyername"></span><span ng-if="orderDetailInfo.buyerentername" ng-bind="' | '+orderDetailInfo.buyerentername"></span>
			</div>
			<div class="col-md-3">
				<span>开户行名称：</span>
				<span ng-bind="pamentBankInfo.bankname"></span>
			</div>
			<div class="col-md-3">
				<span>开户名：</span>
				<span ng-bind="pamentBankInfo.accountname"></span>
			</div>
			<div class="col-md-3">
				<span>账号：</span>
				<span ng-bind="pamentBankInfo.number"></span>
			</div>
		</div>
		<div class="row-fluid" ng-if="orderDetailInfo.proofingid == null">
			<div class="col-md-3">
				<span>送货方式：</span>
				<span ng-if="orderDetailInfo.deliverytype == '1301'">第三方配送</span>
				<span ng-if="orderDetailInfo.deliverytype == '1302'">卖家配送</span>
				<span ng-if="orderDetailInfo.deliverytype == '1303'">上门自提</span>
				<span ng-if="orderDetailInfo.deliverytype == null"><strong>未录入</strong></span>				
			</div>
		</div>
		
	</div>
	<div class="part col-md-12">		
		<div class="row-fluid col-md-12">
			<div class="col-md-3"><h4>费用信息</h4></div>
		</div>
		<div class="row-fluid">
			<div class="col-md-3">
				<span>运费：</span> <a class="text-inverse"><span ng-bind="orderDetailInfo.currency"></span>&nbsp;<span ng-bind="orderDetailInfo.fare || 0 | number:2"></span>
			</a>
			</div>
			<div class="col-md-3">
				<span>总计：</span> <a class="text-inverse"><span ng-bind="orderDetailInfo.currency"></span>&nbsp;<span ng-bind="orderDetailInfo.ensurePrice | number:2"></span>
				</a>
			</div>
		</div>
	</div>		
	
	<div class="part col-md-12">
		<div class="row-fluid">
			<div class="col-md-3"><h4>产品清单</h4></div>
		</div>
		<table class="table table-striped table-bordered">
			<thead>
				<tr role="row">
					<th role="columnheader" rowspan="1" colspan="1">序号</th>
					<th role="columnheader" rowspan="1" colspan="1">原厂型号</th>
					<th role="columnheader" rowspan="1" colspan="2">图片</th>
					<th role="columnheader" rowspan="1" colspan="2">订单明细编号</th>
					<th role="columnheader" rowspan="1" colspan="2">批次号</th>
					<th role="columnheader" rowspan="1" colspan="1">单价</th>
					<th role="columnheader" rowspan="1" colspan="1">数量</th>
					<th role="columnheader" rowspan="1" colspan="1">金额</th>
				</tr>
			</thead>
			<tbody>
				<tr ng-repeat="detail in orderDetailInfo.orderDetails">
					<td class="center" rowspan="1" colspan="1"><span ng-bind = "$index + 1"></span></td>
					<td class="center" rowspan="1" colspan="1"><a ng-href="product/component/{{detail.uuid}}/"><span ng-bind ="detail.cmpCode"></span></a></td>
					<td class="center" rowspan="1" colspan="2"><a ng-href="store/{{detail.storeid}}/{{detail.batchCode}}/"><img alt="" ng-src="{{detail.img || 'static/img/store/common/default.png'}}" height="100px;"></a></td>
					<td class="center" rowspan="1" colspan="2"><span ng-bind="detail.detailid"></span></td>
					<td class="center" rowspan="1" colspan="2"><span ng-bind = "detail.batchCode"></span></td>
					<td class="center text-inverse" rowspan="1" colspan="1"><span ng-bind="detail.currencyName"></span>&nbsp;<span ng-bind = "detail.taxUnitprice"></span></td>
					<td class="center" rowspan="1" colspan="1"><span ng-bind = "detail.number"></span></td>
					<td class="center text-inverse" rowspan="1" colspan="1"><span ng-bind="detail.currencyName"></span>&nbsp;<span ng-bind = "detail.price"></span></td>
				</tr>
			</tbody>
		</table>
 	</div>
		
</div>