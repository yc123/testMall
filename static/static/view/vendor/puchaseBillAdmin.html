<style type="text/css">
div.col-md-2-center li col-md- {
	text-align: center;
}

div.line-head {
	 line-height: 23px; 
	 border-bottom: 1px solid gainsboro;
	 background-color: whitesmoke;
}

div.margin-left-zero, ul.margin-left-zero {
	margin-left: 0px !important;
}

table.margin-top-10 {
	margin-top: 10px ;
}

div.margin-top-40 {
	margin-top: 40px;
}

col-md-.padding-left-15 {
	padding-left: 15px;
}

table#make-out-bill td{
	border-top: 1px solid white;
	padding: 0px;
}

table#make-out-bill thead {
	display: none;
}

h2 {
	font-size: 18px;
	font-weight: 600;
}

div.list-ul-ol ol, div.list-ul-ol ul {
	padding-left: 0px;
	padding-right: 0px;
	list-style: none;
}

div.list-ul-ol ol {
	margin-bottom: 0px;
	padding-bottom: 5px;
	padding-top: 5px;
}

div.list-ul-ol > ol > li, div.list-ul-ol > ul > li {
	padding-left: 0px;
	padding-right: 0px;
	line-height: 23px;
}

.padding-left-right-15 {
	padding-left: 15px;
	padding-right: 15px;
}

#fillBill .row , #make-out-bill .row {
	margin-left: 0px;
	margin-right: 0px;
}

div#fillBill {
	border: 1px solid #DDDDDD;
	margin-left: 0px;
	margin-right: 0px;
	padding: 15px;
}

.row-line {
	line-height: 23px;
	padding-top: 10px;
	padding-bottom: 10px;
}

.row-head {
	line-height: 23px;
	font-size: 15px;
	font-weight: 600;
}

input.input-css {
	border-radius: 5px;
	height: 28px;
	width: 188px;
}

.no-data {
	margin-top: -12px;
	line-height: 23px;
	font-size: 17px;
}
.location ul {
    border-bottom: solid 1px #ddd;
}

.location {
    line-height: 28px;
}
</style>
<div class="location ng-scope">
	<ul class="list-unstyled list-inline">
		<li class="text-bold">您当前的位置：</li>
		<li>卖家中心 <i class="fa fa-angle-double-right"></i></li>
		<li>交易管理 <i class="fa fa-angle-double-right"></i></li>
		<li>采购单发票管理</li>
	</ul>
</div>
<div>
	<h2>采购单发票管理</h2>
	<div class="marginTop22 row padding-left-right-15">
		<div class="row">
			<div class="col-xs-1">
				<p style="margin-top: 8px;">
					共<span class="badge">{{puchaseBillTableParams.total()}} </span>条
				</p>
			</div>
			<div class="col-xs-5">
				<div class="btn-group" role="group" aria-label="...">
					<button type="button" class="btn btn-sm btn-default" ng-class="{'btn-primary':active=='prepare'}" ng-click="setActive('prepare')">准备发票</button>							
					<button type="button" class="btn btn-sm btn-default" ng-class="{'btn-primary':active=='toBeMakeOut'}" ng-click="setActive('toBeMakeOut')">待开发票</button>
					<button type="button" class="btn btn-sm btn-default" ng-class="{'btn-primary':active=='opened'}" ng-click="setActive('opened')">已开发票</button>
				</div>
			</div>
			<div class="col-xs-6">
				<div class="input-group">
					<input type="search" class="form-control" ng-model="keyword"
						ng-search="onSearch()" placeholder="请输入订单号查询">
					<span class="input-group-btn">
						<button ng-click="onSearch()" class="btn btn-default"
							type="button">搜索</button>
					</span>
				</div>
			</div>
		</div>
		<table ng-table="puchaseBillTableParams" class="table margin-top-10" id="make-out-bill">
			<tr ng-repeat="purchase in $data">
				<td>
					<div>
						<div class="col-md-12 line-head">
							<span class="col-md-3 padding-left-15" title="订单号">
								<input type="checkBox" ng-model="purchase.checked" ng-click="selectPurchase(purchase)" ng-show="active=='toBeMakeOut'" ng-disabled="fillBill">&nbsp;&nbsp;
								<a target="_blank" ng-href="vendor#/cusPurchase/{{purchase.purchaseid | EncryptionFilter}}" ng-bind="purchase.purchaseid"></a>
							</span>
							<span ng-show="purchase.invoicetype == 1205" class="col-md-2 text-center" title="发票类型">增值税专用发票</span>
							<span ng-show="purchase.invoicetype == 1206" class="col-md-2 text-center" title="发票类型">增值税普通发票</span>
							<span ng-show="purchase.invoicetype == 1207" class="col-md-2 text-center"  title="发票类型">不需开票</span>
							<span ng-bind="purchase.invoicetitle" class="col-md-2 text-center" title="发票抬头"></span>
							<div title="发票收货地址" class="col-md-5 text-center">
								<span ng-bind="purchase.invoiceAddress.name"></span>&nbsp;&nbsp;
								<span ng-bind="purchase.invoiceAddress.telephone"></span>&nbsp;&nbsp;
								<span ng-bind="purchase.invoiceAddress.area"></span>
								<span ng-bind="purchase.invoiceAddress.detailAddress"></span>
							</div>
						</div>
						<div class="col-md-12 col-md-2-center margin-left-zero list-ul-ol">
							<ol class="col-md-12 detail-head">
								<li class="col-md-12">
									<span class="col-md-3 text-center">采购单明细号</span>
									<span class="col-md-2 text-center">数量</span>
									<span class="col-md-2 text-center">单价</span>
									<span class="col-md-2 text-center">总价</span>
									<span class="col-md-2 text-center">
										<span ng-show="purchase.invoicetype != 1207" >发票状态</span>
									</span>
								</li>
							</ol>
							<ul class="col-md-12 detail-body margin-left-zero">
								<li class="col-md-12" ng-repeat="purchaseDetail in purchase.purchaseDetails">
									<span class="col-md-3 text-center">
										<input type="checkBox" ng-model="purchaseDetail.checked" ng-click="selectDetail(purchase, purchaseDetail)" ng-disabled="!(purchase.invoicetype!=1207 && purchaseDetail.billStatus==700)||fillBill" ng-show="active=='toBeMakeOut'"/> &nbsp;&nbsp;
										<span ng-bind="purchaseDetail.detailid"></span>
									</span>
									<span class="col-md-2 text-center" ng-bind="purchaseDetail.realTradeNum"></span>
									<span class="col-md-2 text-center" ng-bind="purchaseDetail.unitprice"></span>
									<span class="col-md-2 text-center" ng-bind="purchaseDetail.realPrice"></span>
									<span class="col-md-2 text-center">
										<span ng-show="purchase.invoicetype!=1207 && purchaseDetail.billStatus==700">待开发票</span>
										<span ng-show="purchase.invoicetype!=1207 && purchaseDetail.billStatus==701">待收发票</span>
										<span ng-show="purchase.invoicetype!=1207 && purchaseDetail.billStatus==702">已收发票</span>
									</span>
								</li>
							</ul>
						</div>
					</div>
				</td>
			</tr>
		</table>
		<div class="col-md-12">
			<button class="btn btn-default" ng-click="makeOutBill()" ng-show="active=='toBeMakeOut'">批量开票</button>
		</div>
		<div class="no-data text-center col-md-12" ng-show="!puchaseBillTableParams.total()">当前状态没有对应的数据</div>
	</div>
	<div class="row margin-top-40 padding-left-right-15" ng-show="fillBill" id="fillBill">
		<div class="row row-head">填写发票信息</div>
		<div class="row row-line">
			<div class="col-md-2">发票类型：</div>
			<div ng-show="sameInfo.invoicetype == 1205" class="col-md-4 text-left" title="发票类型">增值税专用发票</div>
			<div ng-show="sameInfo.invoicetype == 1206" class="col-md-4 text-left" title="发票类型">增值税普通发票</div>
			<div ng-show="sameInfo.invoicetype == 1207" class="col-md-4 text-left"  title="发票类型">不需开票</div>
			<div class="col-md-2">发票抬头：</div>
			<div ng-bind="sameInfo.invoicetitle" class="col-md-2 text-left" title="发票抬头"></div>
		</div>
		<div class="row margin-left-zero row-line">
			<div class="col-md-2">发票流水号：</div>
			<div class="col-md-4">
				<input type="text" placeholder="输入发票号码" class="input-css" ng-model="bill.billNum">
			</div>
			<div class="col-md-2">发票总价值：</div>
			<div class="col-md-2 text-left" ng-bind="totalPrice"></div>
		</div>
		<div class="row margin-left-zero row-line">
			<div class="col-md-2">发票收货地址：</div>
			<div title="发票收货地址" class="col-md-8 text-left">
				<span ng-bind="sameInfo.invoiceAddress.name"></span>&nbsp;&nbsp;
				<span ng-bind="sameInfo.invoiceAddress.telephone"></span>&nbsp;&nbsp;
				<span ng-bind="sameInfo.invoiceAddress.area"></span>
				<span ng-bind="sameInfo.invoiceAddress.detailAddress"></span>
			</div>
		</div>
		<div class="row">
			<div class="col-md-offset-4 col-md-4">
				<button class="btn btn-default" ng-click="confirmMakeBill()">确认开票</button>
				<button class="btn btn-default" ng-click="cancle()">取消开票</button>
			</div>
		</div>
	</div>
</div>