<style>
    /*未开票*/
    .vendor-invoice{
        width: 100%;
        margin: 0 auto;
        background: #fff;
        display: inline-block;
    }
    .vendor-invoice-tip{
        width: 1000px;
        height: 120px;
        margin: 0 auto;
        background: #f5f8fe;
        padding: 8px 30px;
        margin-top: 20px;
    }
    .vendor-invoice-tip p{
        font-size: 12px;
        color: #666;
        line-height: 25px;
    }
    .vendor-invoice-tip p:nth-of-type(2){
        color: #333;
    }
    .vendor-invoice-tip p strong{
        font-weight: bold;
    }
    .vendor-invoice-content{
        width: 1000px;
        margin: 0 auto;
    }
    .invoice-com-tab{
        box-sizing: border-box;
        border: #dae5fd 1px solid;
        border-bottom: none;
        margin-bottom: 0!important;
    }
    .invoice-com-tab thead{
        height: 40px;
        width: 100%;
        background: #89aefa;
    }
    .invoice-com-tab thead>tr th{
        color: #fff;
        font-weight: normal;
        font-size: 14px;
        text-align: center;
        border-bottom: none;
        vertical-align: middle;
    }
    .invoice-com-tab tbody tr:hover{
        background: #f1f5ff;
    }
    .invoice-com-tab tbody>tr>td{
        font-size: 14px;
        color: #666;
        border-bottom: 1px solid #dae5fd;
        border-right: 1px solid #dae5fd;
        height: 40px;
        vertical-align: middle;
        text-align: center;
    }
    /*无记录与记录条数*/
    .table>tbody>tr.record-num td{
        padding: 0;
        border: none;
        text-align: right;
        font-size: 12px;
        padding-right: 10px;
        border-right: #fff 1px solid;
        border-left: #fff 1px solid;
    }
    .table>tbody>tr.record-num:hover{
        background: none;
    }
    .table>tbody+tbody{
        border-top: 0;
    }
    .table>tbody+tbody.no-record-list tr td{
        border: none;
    }
    /*全选*/
    .table .check-act input{
        display: none;
    }
    .table .check-act label{
        width: 12px;
        height: 12px;
        display: inline-block;
        background: url(static/img/icon/check-rule.png) no-repeat;
        position: relative;
        top: 2px;
    }
    .table .check-act label{
        background-position: -48px 0;
    }
    .table .check-act input:checked + label{
        background-position: -31px 0;
    }
    .apply-btn{
        width: 100%;
        margin: 0 auto;
        text-align: center;
        margin: 30px 0;
    }
    .apply-btn button{
        width: 80px;
        height: 26px;
        line-height: 26px;
        text-align: center;
        font-size: 14px;
        color: #fff;
        background: #5078cb;
        border: none;
    }
    .invoice-com-tab thead>tr>th.select-line{
        padding: 8px 0;
    }
    .invoice-com-tab thead>tr>th .form-control{
        color: #666;
        padding: 0 2px;
        height: 24px;
        width: 52px;
        opacity: 1;
        border: #fff 1px solid;
        border-radius: 2px;
        position: relative;
        left: 10px;
    }
    .invoice-com-tab thead>tr th,.invoice-com-tab tbody>tr td{
        padding: 8px 3px;
    }
    .invoice-com-tab tbody>tr td.address{
        text-align: left;
    }
    .invoice-com-tab tbody>tr td.address p{
        font-size: 14px;
        width: 161px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
    }
    /*操作确认框*/
    .com-del-box{
        position: fixed;
        z-index: 22;
        height: 152px;
        opacity: 1;
        background-color: white;
        width: 310px;
        -webkit-box-shadow: 0 5px 15px rgba(0,0,0,.5);
        box-shadow: 0 5px 15px rgba(0,0,0,.5);
        margin: -155px 0 0 -75px;
        top: 55%;
        left: 50%;
    }
    .com-del-box .title{
        height: 30px;
        background-color: #5078cb;
        text-align: right;
        padding-right: 15px;
        line-height: 30px;
    }
    .com-del-box .title a{
        color: white;
        font-size: 16px;
    }
    .com-del-box .content{
        width: 100%;
        text-align: center;
        margin: 0 auto;
    }
    .com-del-box .content p{
        line-height: 23px;
        font-size: 14px;
        padding-top: 15px;
    }
    .com-del-box .content p i{
        color: #5078cb;
        font-size: 18px;
        margin-right: 5px;
        position: relative;
        top: 2px;
    }
    .com-del-box .content div{
        width: 100%;
        text-align: center;
        margin: 0 auto;
        margin-top: 15px;
    }
    .com-del-box .content div a{
        width: 55px;
        height: 26px;
        line-height: 26px;
        display: inline-block;
        text-align: center;
        font-size: 14px;
    }
    .com-del-box .content div a:first-child{
        background: #b4b5b9;
        color: #333;
        margin-right: 10px;
    }
    .com-del-box .content div a:last-child{
        background: #5078cb;
        color: #fff;
    }
    .com-del-box .content div a:hover{
        background: #3f7ae3;
        color: #fff;
    }
    .invoice-search{
        width: 1000px;
        margin: 0 auto;
        background: #f5f8fe;
        height: 40px;
        margin-top: 16px;
    }
    .invoice-search div.fr{
        width: 388px;
        margin-top: 3px;
        margin-right: 14px;
    }
    .invoice-search input.form-control{
        width: 330px;
        height: 32px;
        line-height: 32px;
        font-size: 12px;
        border-radius: 0;
        border: #5078cb 1px solid;
        background: #fff;
        float: left;
    }
    .invoice-search button{
        border: none;
        width: 58px;
        height: 32px;
        background: #5078cb;
        text-align: center;
        font-size: 14px;
        color: #fff;
        float: right;
    }
    body div.ng-table-pager a.page-a {
        float: right;
        background: #5078cb!important;
    }
    .ng-table-pagination .page-a:hover {
        background: #5078cb!important;
    }
    .vendor-invoice .select-adder {
        background-position-x: 113%!important;
    }
    #checkAll[disabled] + label {
        cursor: not-allowed;
    }
</style>
<div class="count user_right fr">
    <div class="count_center">
        <div class="com_tab">
            <ul class="fl">
                <li ng-class="{'active': active == 'apply_invoice'}" ng-click="toggleTab('apply_invoice')"><a>开票申请</a></li>
                <li ng-class="{'active': active == 'apply_record'}" ng-click="toggleTab('apply_record')"><a>开票记录</a></li>
            </ul>
        </div>
    </div>
    <!--申请开票-->
    <div class="vendor-invoice" ng-if="active == 'apply_invoice'">
        <div class="vendor-invoice-tip">
            <p>温馨提示：</p>
            <P>1、买家只能对订单状态为<strong>“交易成功”</strong>，且已不能再发起售后的人民币交易订单进行补开发票。</P>
            <p>2、发票金额为产品总金额且不含运费、积分、优惠券、促销折扣等金额。</p>
            <p>3、发票邮寄费用将由卖家承担。</p>
        </div>
        <div class="invoice-search">
            <div class="fr">
                <input type="text" ng-keydown="enterEvent($event, keyword)"  class="form-control" ng-model="keyword" placeholder="订单号/发票抬头/收票人/联系电话"/>
                <button ng-click="searchByKey(keyword)">搜索</button>
            </div>
        </div>
        <div class="vendor-invoice-content">
            <table class="invoice-com-tab table" ng-table="billRecordTableParam">
                <thead>
                <tr>
                    <th width="45">
                        <lable class="check-act">
                            <input type="checkbox" id="checkAll" ng-disabled="!billData || billData.length == 0" ng-click="onAllChecked()" ng-checked="isAllCheck" />
                            <label for="checkAll"></label>
                        </lable>
                        全选</th>
                    <th width="70">申请时间</th>
                    <th width="90">订单号</th>
                    <th width="90">开票金额(￥)</th>
                    <th width="55" class="select-line">
                        <select class="select-adder form-control" style="position: relative;left: 6px;" ng-change="billTypeSearch(billType)" ng-model="billType">
                            <option value="1">类型</option>
                            <option value="2">普票</option>
                            <option value="3">专票</option>
                        </select>
                    </th>
                    <th width="120">发票抬头</th>
                    <th width="50">收票人</th>
                    <th width="160">收票地址</th>
                    <th width="50">联系电话</th>
                </tr>
                </thead>
                <tbody>
                    <tr ng-repeat="item in billData track by $index">
                        <td  style="width: 50px;">
                            <lable class="check-act">
                                <input type="checkbox" id={{$index+1}} ng-checked="item.checked" ng-click="checkInvoice(item)" />
                                <label for={{$index+1}}></label>
                            </lable>
                        </td>
                        <td ng-bind="item.createTime | date : 'yyyy-MM-dd'"></td>
                        <td>
                            <span style="display: block" ng-repeat="orderid in item.orderids.split(',')" ng-bind="orderid"></span>
                        </td>
                        <td ng-bind="item.price"></td>
                        <td ng-bind="item.invoicetype==1206?'普票':'专票'"></td>
                        <td ng-bind="item.invoicetitle"></td>
                        <td ng-bind="item.receiverName"></td>
                        <td class="address" title="{{item.area+'&#10;'+item.detailAddr}}">
                            <p ng-bind="item.area"></p>
                            <p ng-bind="item.detailAddr"></p>
                        </td>
                        <td ng-bind="item.recTel">13135015772</td>
                    </tr>
                    <tr class="record-num" ng-if="billData && billData.length>0">
                        <td colspan="9">
                            <span class="count-tip">显示 <span ng-bind="$$kdnData.start"></span>-<span ng-bind="$$kdnData.end"></span> 条，共 <span ng-bind="$$kdnData.totalElements"></span> 条</span>
                        </td>
                    </tr>
                </tbody>
                <tbody class="no-record-list" ng-if="!billData || billData.length<=0">
                <tr style="height:267px!important;">
                <td colspan="10" style="border: #fff 1px solid"><img src="static/img/all/empty-cart.png"><span class="f14">暂无开票申请</span></td>
                </tr>
                </tbody>
            </table>
        </div>
        <div class="apply-btn"  ng-style="$$kdnData.totalElements>10?'margin-top: 100px':''" ng-if="billData && billData.length>0">
            <button ng-click="submitApply()">确认开票</button>
        </div>
    </div>
    <!--开票记录-->
    <div class="vendor-invoice" ng-if="active == 'apply_record'">
        <div class="invoice-search" style="margin-top: 5px;margin-bottom: 16px; width: 100%">
            <div class="fr">
                <input type="text" ng-keydown="enterEvent($event, keyword)"  class="form-control" ng-model="keyword" placeholder="订单号/发票抬头/收票人/联系电话"/>
                <button ng-click="searchByKey(keyword)">搜索</button>
            </div>
        </div>
        <div class="vendor-invoice-content">
            <table class="invoice-com-tab table" ng-table="billRecordTableParam">
                <thead>
                <tr>
                    <th width="70">申请时间</th>
                    <th width="90">订单号</th>
                    <th width="90">开票金额(￥)</th>
                    <th width="55" class="select-line">
                        <select class="select-adder form-control" style="position: relative;left: 6px;" ng-change="billTypeSearch(billType)" ng-model="billType">
                            <option value="1">类型</option>
                            <option value="2">普票</option>
                            <option value="3">专票</option>
                        </select>
                    </th>
                    <th width="120">发票抬头</th>
                    <th width="50">收票人</th>
                    <th width="160">收票地址</th>
                    <th width="50">联系电话</th>
                </tr>
                </thead>
                <tbody>
                <tr ng-repeat="item in billData track by $index">
                    <td ng-bind="item.createTime | date : 'yyyy-MM-dd'"></td>
                    <td>
                        <span style="display: block" ng-repeat="orderid in item.orderids.split(',')" ng-bind="orderid"></span>
                    </td>
                    <td ng-bind="item.price"></td>
                    <td ng-bind="item.invoicetype==1206?'普票':'专票'"></td>
                    <td ng-bind="item.invoicetitle"></td>
                    <td ng-bind="item.receiverName"></td>
                    <td class="address" title="{{item.area+'&#10;'+item.detailAddr}}">
                        <p ng-bind="item.area"></p>
                        <p ng-bind="item.detailAddr"></p>
                    </td>
                    <td ng-bind="item.recTel">13135015772</td>
                </tr>
                <tr class="record-num" ng-if="billData && billData.length>0">
                    <td colspan="9">
                        <span class="count-tip">显示 <span ng-bind="$$kdnData.start"></span>-<span ng-bind="$$kdnData.end"></span> 条，共 <span ng-bind="$$kdnData.totalElements"></span> 条</span>
                    </td>
                </tr>
                </tbody>
                <tbody class="no-record-list" ng-if="!billData || billData.length<=0">
                <tr style="height:401px!important;">
                <td style="border: #fff 1px solid" colspan="10"><img src="static/img/all/empty-cart.png"><span class="f14">暂无开票记录</span></td>
                </tr>
                </tbody>
            </table>
        </div>
    </div>
</div>

<!--操作框-->
<div class="com-del-box" ng-show="showSubmitBox">
    <div class="title">
        <a ng-click=""><i class="fa fa-close fa-lg"></i></a>
    </div>
    <div class="content">
        <p><i ng-click="setShowSubmitBox(false)" class="fa fa-exclamation-circle"></i>点击【确认】系统将通知买家发票
            <br/>已寄出，否则请点击【取消】</p>
        <div><a ng-click="setShowSubmitBox(false)">取消</a><a ng-click="doSubmit()">确认</a></div>
    </div>
</div>