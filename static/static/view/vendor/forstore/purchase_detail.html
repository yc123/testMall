<!--右侧主体部分-->
<style>
	.logistics_list_xq dl dd:last-child em{
		background: #5078cb;
	}
	#oder-detail .oder_xq_list dl .oder_l p{
		font-size: 14px;
		text-align: left;
		width: 100%;
		position: relative;
		text-overflow: ellipsis;
		white-space: nowrap;
		word-break: normal;
		overflow: hidden;
	}
	#oder-detail .oder_xq_list dl span{
		width: 14%;
	}
	#oder-detail .oder_xq_list dl span.wd01{
		width: 13%;
	}
	#oder-detail .oder_xq_list dl span.wd02{
		width: 25%;
	}
	#oder-detail .oder_xq_list dl .oder_l p.style01{
		width: 160px;
		text-overflow: ellipsis;
		white-space: nowrap;
		word-break: normal;
		overflow: hidden;
	}
	#oder-detail .oder_xq_list dl .oder_l img{
		margin-left: 20px;
	}
	#oder-detail .oder_xq_list dl .change-price span{
		width: 60px;
		height: 26px;
		display: inline-block;
		text-align: center;
		background: #5078cb;
		line-height: 26px;
		color: #fff;
		font-size: 14px;
		/*margin-right: 5px;*/
		float: right;
		margin-top: 4px;
	}
	#oder-detail .oder_xq_list dl .change-price span:hover{
		cursor: pointer;
	}
	.oder_xq_list dl .change{
		height: 70px;
	}
	.oder_xq_list dl .change span{
		height: 40px;
		line-height: 40px;
		margin-top: 10px;
	}
	.oder_xq_list dl .change .change-price{
		width: 100% !important;
		margin-top: 0;
		/*padding-right: 30px;*/
	}
	#oder-detail .oder_xq_list dl .change-price span:hover{
		background: #3f7ae3;
		color: #fff !important;
	}
	#oder-detail .oder_xq_list dl .change-price span.off{
		background: #fa5a02;
		margin-right: 10px;
	}
	.oder_xq_list dl .price span i {
		margin-right: 35px;
		font-weight: bold;
	}
	.no-record{
		height: 60px;
		text-align: center;
		line-height: 60px;
		background: #fff;
		font-size: 14px;
	}
	.logistics_list01 .oder_xq p{
		display: inline-block;
		margin-left: 10px;
	}
	.red{
		color: #f00;
	}
	#oder-detail .oder_xq_list dl dd.line60 span{
		width: 20%;
	}
	#oder-detail .oder_xq_list dl dd.line60 span.wd001{
		width: 35%;
		margin-left: 25px;
	}
	/*订单详情修改*/
	.logistics_list01{
		background: #fff;
	}
	.oder_xq_list dl dt{
		border: #f1f6ff 1px solid;
		height: 40px;
		border-bottom: #769be9 2px solid;
		background: #f6f9ff;
		margin-top: 10px;
	}
	.oder_xq_list dl .oder_l {
		background: #f6f9ff;
		border-bottom: #fff 1px solid;
	}
	.oder_xq_list dl dd{
		border-bottom: none;
	}
	.oder_xq_list dl dd.order-company{
		height: 50px;
		line-height: 50px;
		border-bottom: #f1f6ff 1px solid;
	}
	.oder_xq_list dl .oder_l span.wd02{
		margin-top: 0;
	}
	.oder_xq_list dl .oder_l span.wd02 a img{
		margin-top: 15px;
	}
	.oder_xq_list dl .oder_l span textarea {
		padding: 5px;
		width: 120px;
		height: 60px;
		border: #ccc 1px solid;
		margin-top: 10px;
	}
	.oder_xq_list dl span a{
		color: #333;
	}
	.oder_xq_list dl span a.unstand{
		cursor: default;
	}
	.oder_xq_list dl span a.unstand:hover{
		color: #333 !important ;
	}
	.oder-remark,.oder_xq_list dl .line60{
		background: #f1f6ff;
	}
	.oder_xq_list dl .line60{
		height: 60px;
		border-bottom: #5078cb 1px solid;
	}
	.oder-remark .form-control {
		width: 546px;
		height: 30px;
		border-radius: 2px;
		float: left;
		margin-top: 5px;
		margin-left: 4px;
	}
	.oder-remark span em {
		float: left;
		color: #333 !important;
		margin-left: 40px;
	}
	.oder_xq_list dl span.total-price{
		float: right;
		width: auto !important;
		position: relative;
		bottom: 10px;
		margin-right: 20px;
	}
	.oder_xq_list dl span.total-price p{
		line-height: 25px;
		font-size: 14px;
		text-align: right;
		font-weight: bold;
		display: flex;
	}
	.oder_xq_list dl span.total-price p:first-child em{
		color: #333;
	}
	.oder_xq_list dl span.total-price p:last-child{
		color: #e64040;
	}
	.oder_xq_list dl span.total-price p em{
		color: #e64040;
	}
	.oder_xq_list dl span.total-price strong {
		width: 70px;
		display: inline-block;
		float: left;
	}
	.oder_xq_list dl span.user-address{
		width: 100% !important;
		line-height: 30px;
		position: relative;
		top: -23px;
		background: #f1f6ff;
	}
	.oder_xq_list dl span.user-address i:nth-of-type(1){
		/*margin-left: 20px;*/
	}
	.oder_xq_list dl span.user-address i:nth-of-type(2){
		/*margin-left: 70px;*/
	}
	.open-more{
		text-align: center;
		background: #f6f9ff;
		height: 2px;
	}
	.oder-remark.length3{
		border-top: #a5d6f7 1px dashed
	}
	.open-more a{
		font-size: 12px;
		width: 200px;
		height: 15px;
		display: inline-block;
		border: #5e9fcb 1px dashed;
		border-top: 0;
		font-weight: inherit;
		background: #f6f9ff;
		border-bottom-left-radius: 50px;
		border-bottom-right-radius: 50px;
		line-height: 15px;
		text-decoration: none;
		position: relative;
		top: 0;
		z-index: 200;
	}
	.open-more a i{
		margin-right: 5px;
		font-size: 20px;
		vertical-align: middle;
		position: relative;
		top: -5px;
		color: #ff8423;
	}
	.open-more a.active{
		border-top-left-radius: 50px;
		border-top-right-radius: 50px;
		position: relative;
		top: -12px;
		border-bottom: none;
		border-top: #5e9fcb 1px dashed;
		border-bottom-left-radius: 0;
		border-bottom-right-radius: 0;
		background: #f1f6ff;
	}
	.open-more a.active em{
		top: 3px;
	}
	.open-more a.active i{
		top: 0;
	}
	.open-more a em{
		position: relative;
		top: -4px;
		color: #ff8423;
	}
	.open-more a:hover em,.open-more a:hover i{
		color: #5078cb;
		text-decoration: none;
	}
	.limit-3{
		width: 100%;
		margin: 0 auto;
		max-height: 270px;
		overflow: hidden;
	}
	.open-more.none{
		display: none;
	}
	.logistics_list01 .oder_xq p b{
		color: #959595;
	}
	.logistics_list01 .oder_xq{
		width: 97%;
	}
	.oder_xq_list dl .price-style em{
		width: 18px;
		height: 28px;
		background: #5078cb;
		text-align: center;
		line-height: 28px;
		border-top-left-radius: 3px;
		border-bottom-left-radius: 3px;
		color: #fff;
		display: inline-block;
	}
	.oder_xq_list dl .price-style input{
		width: 100px;
		border: #5078cb 1px solid;
		font-size: 14px;
		position: relative;
		height: 28px;
		left: -6px;
		top: -1px;
		text-align: center;
	}
	.oder_xq_list dl .oder_l img{
		width: 60px;
		height: 60px;
	}
	.color999{
		color: #999 !important;
	}
	.log_menu span{
		margin-left: 11px;
	}
	.text-area{
		width: 120px;
		height: 60px;
		background: #fff;
		margin-top: 15px;
		overflow-y: auto;
		text-align: left;
		padding: 0 3px;
		margin-left: 5px;
	}
	.text-area i{
		text-align: left;
		position: relative;
		top: 4px;
		font-size: 12px;
		color: #666;
		word-break: break-all;
	}
	#oder-detail .contact_btn:hover{
		color: #fff !important;
	}
	/*联系买家*/
	.contact-box{
		position: absolute;
		z-index: 2;
		height: 155px;
		opacity: 1;
		background-color: white;
		width: 600px;
		top: 50px;
		left: 100px;
		border: 1px solid #E7E5E2;
		-webkit-box-shadow: 0 5px 15px rgba(0,0,0,.5);
		box-shadow: 0 5px 15px rgba(0,0,0,.5);
	}
	.contact-box .title{
		height: 26px;
		background-color: #5078cb;
		text-align: right;
		/*padding-right: 15px;*/
		line-height: 26px;
		color: #fff;
	}
	.contact-box .title i{
		float: right;
		margin: 7px 10px 0 0;
	}
	.contact-box .content{
		width: 550px;
		margin: 0 auto;
		background-color: #5078cb;
		color: #fff;
		margin-top: 15px;
		margin-bottom: 12px;
		border-radius: 4px;
		height: 100px;
	}
	.contact-box .content div{
		padding: 0 15px;
		line-height: 40px;
	}
	.contact-box .content .company-title{
		text-align: center;
		font-size: 18px;
	}
	.contact-box div.list{
		text-align: left;
		font-size: 14px;
		padding-left: 15px;
		padding-right: 15px;
	}
	.contact-box div.list em{
		font-size: 14px;
		color: #fff;
	}
	.oder_xq_list dl span .contact_btn:hover{
		color: #fff !important;
	}
	 input[type=text]::-ms-clear, input[type=text]::-ms-reveal{
		 display: none;
	 }
</style>
<div class="user_right fr">
	<!--叮当详情-->
	<div class="oder_detail"  id="oder-detail">
		<!--<div class="logistics">
			<ul>
				<li ng-class="{ 'active' : (steps.step2 || steps.step3 || steps.step4 || steps.step5) }">
					<p>待付款</p>
					<em class="have"><i ng-class="{ 'active' : steps.step1 }"><b>1</b></i></em>
					<p ng-bind="steps.time1 | date : 'yyyy-MM-dd HH:mm:ss'">2017-03-12 15:12:30</p>
				</li>
				<li ng-class="{ 'active' : (steps.step3 || steps.step4 || steps.step5) }">
					<p>待发货</p>
					<em class="have"><i ng-class="{ 'active' : steps.step2 }"><b>2</b></i></em>
					<p ng-bind="steps.time2 | date : 'yyyy-MM-dd HH:mm:ss'">2017-03-12 15:12:30</p>
				</li>
				<li ng-class="{ 'active' : (steps.step4 || steps.step5) }">
					<p>待收货</p>
					<em class="have"><i ng-class="{ 'active' : steps.step3 }"><b>3</b></i></em>
					<p ng-bind="steps.time3 | date : 'yyyy-MM-dd HH:mm:ss'">2017-03-12 15:12:30</p>
				</li>
				<li ng-class="{ 'active' : steps.step5 }">
					<p>待收款</p>
					<em class="have"><i ng-class="{ 'active' : steps.step4 }"><b>4</b></i></em>
					<p ng-bind="steps.time4 | date : 'yyyy-MM-dd HH:mm:ss'">2017-03-12 15:12:30</p>
				</li>
				<li>
					<p>评价</p>
					<em><i ng-class="{ 'active' : steps.step5 }"><b>5</b></i></em>
					<p ng-bind="steps.time5 | date : 'yyyy-MM-dd HH:mm:ss'"></p>
				</li>
			</ul>
		</div>-->
		<!--订单信息-->
		<div class="logistics_list01 clearfix" style="margin-top: 0;">
			<div class="log_menu">
				<!--<span>订单信息<b>订单号：{{purchase.orderid}} <em><font style="color: #333; margin-left: 20px">订单状态：</font>{{purchase.status | purchaseStatus}}</em></b></span>-->
				<span ng-if="purchase.status != 602 && purchase.status != 603 && purchase.status != 604 && purchase.status != 605 && purchase.status != 606 && purchase.status != 315">订单信息<b>订单号：{{purchase.orderid}}<em style="margin-left: 25px;"><font style="color: #333;">订单状态：</font>{{purchase.status | purchaseStatus}}</em></b></span>
				<span ng-if="purchase.status == 602 || purchase.status == 603 || purchase.status == 604 || purchase.status == 605 || purchase.status == 606 || purchase.status == 315">
					<i class="f14">订单号：{{purchase.orderid}}</i>
					<b>
						<em style="margin-right: 25px;" ng-if="purchase.status != 603"><font class="color999">取消原因：</font>{{purchase.unavailableReason.reason}}</em>
						<em style="margin-right: 25px;" ng-if="purchase.status == 603"><font class="color999">取消原因：</font>超时未付款自动取消</em>
						<em><font class="color999">订单状态：</font>{{purchase.status | purchaseStatus}}</em>
					</b>
				</span>
			</div>
			<div class="oder_xq clearfix" style="background: #f8f8f8; width: 98%;">
				<p>
					<b>收货人：</b>
					<span ng-bind="address.name">王子鑫</span>
				</p>
				<p>
					<b>收货地址：</b>
					<span>{{address.area}}&nbsp;{{address.detailAddress}}</span>
				</p>
				<p>
					<b>联系电话：</b>
					<span ng-bind="address.tel">13526395698</span>
				</p>
			</div>
			<!--订单列表-->
			<div class="oder_xq_list">
				<dl class="clearfix">
					<dt>
						<span class="wd02">产品信息</span>
						<span class="wd01">交期(天)</span>
						<span class="wd01">单价</span>
						<span style="width: 10%;">数量</span>
						<span class="wd01">小计</span>
						<span class="wd01">物料编码</span>
						<span class="wd01">备注</span>
					</dt>
					<!--<dd>-->
					<!--<span style="width: 100%; text-align: left; padding-left: 20px;" class="ng-binding"><img src="static/img/user/images/shop_home01.png">{{purchase.buyentername}}</span>-->
					<!--</dd>-->
					<dd class="order-company">
						<span style="white-space: nowrap; width: 100%; text-align: left; line-height: 50px; position:relative;">
							<i style="min-width: 315px; display: inline-block">
								<i ng-bind="purchase.buyername" style="color: #333; margin-left: 20px;"></i>
                                <i style="color: #999; margin: 0 5px;" ng-if="purchase.buyentername">|</i>
                                <i ng-bind="purchase.buyentername"></i>
								<!--<a ng-if="purchase.pu_buyentername" name="{{purchase.id}}" ng-controller="ChatContactCtrl as chat" ng-click="chat.contactWithOther(purchase.buyPhone, purchase.buyerenuu, chat.UserType.ENTERPRISE)">|{{purchase.pu_buyentername}}</a>-->
							</i>
							<img src="static/img/common/songguo.png" style="margin-right:0; ">
							<a name="{{purchase.id}}" href="javascript:void(0)" class="contact_btn" ng-controller="ChatContactCtrl as chat" ng-click="chat.contactWithOther(purchase.buyPhone, purchase.buyerenuu, chat.UserType.ENTERPRISE)">联系买家</a>
							<!--<a name="{{purchase.id}}" href="javascript:void(0)" class="contact_btn" ng-click="contactSeller()">联系买家</a>-->
							<div class="contact-box" ng-if="contactBNox">
								<div class="title"><i class="fa fa-close fa-lg" ng-click="closeBox()"></i></div>
								<div class="content">
									<div class="company-title" ng-bind="::purchase.buyername || '买家姓名没获取到'">深圳市优软科技</div>
									<div class="list">
										<em>手机：<em ng-bind="::purchase.buyPhone || '暂无联系电话'">45413413131313</em></em>
										<em style="margin-left: 60px;">邮箱：<em ng-bind="::purchase.buyEmail || '暂无电子邮箱'">45413413131313</em></em>
									</div>
									<!--<div class="list">地址：-->
										<!--<em ng-bind="order.sellCompanyAddress || order.sellCompanyArea || '暂无地址信息'">1212314531455</em>-->
									<!--</div>-->
								</div>
							</div>
						</span>
					</dd>
					<div ng-class="{'limit-3': !open}" style="width: 100%; margin: 0 auto; overflow: hidden;">
						<dd class="oder_l" ng-repeat="detail in purchase.purchaseDetails">
						<span class="wd02">
							<a href="store/productDetail/{{::detail.batchCode}}" target="_blank"><img ng-src="{{detail.img ? detail.img : 'static/img/store/common/default.png'}}"/></a>
							<p class="style01" style="margin-top: 10px;" ng-if="detail.uuid">类目：
								<a ng-bind="detail.kiName || '-'" href="product/kind/{{::detail.kindUuid}}" title="{{detail.kiName}}" target="_blank"></a>
							</p>
							<p class="style01" style="margin-top: 10px;" ng-if="!detail.uuid">类目：
								<a ng-bind="detail.kiName || '-'" title="{{detail.kiName}}" class="unstand"></a>
							</p>
							<p class="style01">型号：
								<a ng-bind="detail.cmpCode || '-'" href="store/productDetail/{{::detail.batchCode}}" title="{{detail.cmpCode}}" target="_blank"></a>
							</p>
							<p class="style01" ng-if="detail.uuid">品牌：
								<a ng-bind="detail.brName || '-'" href="product/brand/{{::detail.branduuid}}/" title="{{detail.brName}}" target="_blank"></a>
							</p>
							<p class="style01" ng-if="!detail.uuid">品牌：
								<a ng-bind="detail.brName || '-'" title="{{detail.brName}}" class="unstand"></a>
							</p>
						</span>
						<span class="wd01">交期：
							<i ng-if="detail.b2cMinDelivery != detail.b2cMaxDelivery" ng-bind="detail.b2cMinDelivery + '-' + detail.b2cMaxDelivery"></i>
							<i ng-if="detail.b2cMinDelivery == detail.b2cMaxDelivery" ng-bind="detail.b2cMinDelivery"></i>
						</span>
						<span class="wd01">
							<em  ng-show="!isChange" ng-bind="detail.taxUnitPrice | formateNumber : 6 | currencySysmbol : detail.currencyName" style="color: #333;"></em>
							<em ng-show="isChange" class="price-style">
								<em  ng-bind="'' | currencySysmbol : detail.currencyName"></em>
								<input ng-model="detail.currentTaxUnitPrice" type="number" ng-change="updateTotal(detail)"/>
							</em>
						</span>
							<span style="width: 10%;" ng-bind="detail.number">100</span>
							<span ng-show="!isChange" class="wd01 red" ng-bind="detail.taxUnitPrice * detail.number | formateNumber : 6 | currencySysmbol : detail.currencyName"></span>
							<span ng-show="isChange" class="wd01 red" ng-bind="detail.detailTotal | formateNumber : 6 | currencySysmbol : detail.currencyName"></span>
							<!--物料编码-->
							<span class="wd01" style="line-height: 18px;">
								<em ng-if="!detail.goodsnumber">&nbsp;</em>
								<div class="text-area" ng-if="detail.goodsnumber">
									<i ng-bind="detail.goodsnumber">金石为开取数据五块钱叫稍微亲上加亲</i>
								</div>
							</span>
							<span class="wd01" style="line-height: 18px;">
								<em ng-if="!detail.remark">&nbsp;</em>
								<div class="text-area" ng-if="detail.remark">
									<i ng-bind="detail.remark">金石为开取数据五块钱叫稍微亲上加亲</i>
								</div>
							</span>
						</dd>
					</div>
					<div class="open-more row" ng-class="{'none': purchase.purchaseDetails.length <= 3}">
						<a href="javascript:void(0)" ng-click="open=!open" ng-class="{'active': open}">
							<em ng-bind="open ? '收起' : '查看所有产品'"></em>
							<i class="fa fa-angle-up" ng-if="open"></i>
							<i class="fa fa-angle-down" ng-if="!open"></i>
						</a>
					</div>
					<dd class="oder-remark" ng-class="{'length3': purchase.purchaseDetails.length > 3}">
						<span style="width: 100%;">
							<em>订单备注：</em>
							<i class="fl" ng-bind="purchase.purchaseRemark || '无'">用便宜的物流最好！</i>
							<!--<input type="text"  class="form-control" placeholder="请填写订单备注" ng-model="order.orderRemark"/>-->
						</span>
					</dd>
					<dd class="line60">
						<span class="wd02" style="width: 60%; text-align: left; margin-left: 40px; line-height: 30px;">配送方式：<i ng-bind="deliveryMethod[purchase.sendType]"></i>
							<i style="color: #999;" ng-if="rule" ng-bind="'(' + rule.ruleName + ')'">（满1000元包邮，未满足的订单收取运费20元）</i>
						</span>
						<span class="total-price">
								<p><strong>运费：</strong>
									<em ng-if="!rule || rule.fareType != 3" ng-bind="purchase.fare | formateNumber : 2 | currencySysmbol : purchase.currency.substring(0,3)" style="font-weight: bold"></em>
									<em ng-if="rule && rule.fareType == 3" style="font-weight: bold;color:#e64040">到付</em>
								</p>
								<p><strong>店铺合计：</strong>
									<em ng-if="!isChange" ng-bind="purchase.ensurePrice | formateNumber : 2 | currencySysmbol : purchase.currency" style="font-weight: bold"></em>
									<em ng-if="isChange" ng-bind="purchase.currentTotal | formateNumber : 2 | currencySysmbol : purchase.currency" style="font-weight: bold"></em>
								</p>
						</span>
						<!--&lt;!&ndash;<input type="text"  class="form-control" placeholder="请填写订单备注" ng-model="order.orderRemark"/>&ndash;&gt;-->
						<!--</span>-->
						<!--<span ng-if="!noLogisticInfoArray[purchase.status]" class="wd02">物流：{{logistics.companyName || '空'}}</span>-->
						<!--<span ng-if="!noLogisticInfoArray[purchase.status]" class="wd01">物流单号：{{logistics.number || '空'}}</span>-->
						<!--<span ng-show="!canShowInfo && !noLogisticInfoArray[purchase.status]" class="wd01 wd001"><em style="color: #b0b0b0; font-size: 12px;"><i class="fa fa-info-circle"></i>系统无法提供此物流信息，请根据物流单号到相应的官网查询。</em></span>-->
						<!--<span ng-show="!canShowInfo" class="wd01">系统无法提供</span>-->
						<!--<span><em ng-bind="freight | number : 2 | currencySysmbol : purchase.currency">￥20.00</em></span>-->
					</dd>
					<dd class="line60" ng-if="purchase.sendType == 1303 && takeSelf">
						<span class="user-address" style="padding-left: 40px;">
							<i class="fl"><strong style="font-weight: inherit; margin-right: 30px;" ng-bind="takeSelf.takename">自提点A</strong>营业时间：<i ng-bind="takeSelf.businesstime">周一至周五 8:30-18:00</i></i><br/>
							<i class="fl">地址：<i ng-bind="takeSelf.area"></i>  <i ng-bind="takeSelf.detailAddress"></i></i>
						</span>
					</dd>
					<dd class="change price">
						<!--<span style="width: 100%">店铺合计：<i ng-bind="purchase.price | formateNumber : 2 | currencySysmbol : purchase.currency"></i></span>-->
						<span class="change-price" ng-show="purchase.status == 501">
                                <span ng-show="!isChange" ng-click="changePrice()">改价</span>
							    <span ng-show="isChange" ng-click="saveChange()">保存</span>
                                <span ng-show="isChange" class="off" ng-click="cancle()">取消</span>
						</span>
					</dd>
				</dl>
			</div>
			<style>
				.direct-collection{
					width: 734px;
					float: left;
					margin-bottom: 20px;
					position: relative;
					margin-top: -57px;
				}
				.direct-collection .head{
					width: 734px;
					height: 30px;
					margin: 0 auto;
					background-color: #fffbf6;
					border: solid 1px #ffe8d6;
					padding-left: 14px;
					font-size: 14px;
					line-height: 30px;
					margin-left: 10px;
				}
				.direct-collection .head em{
					color: #ff8522;
				}
				.direct-collection .head span{
					width: 25px;
					display: inline-block;
					margin-left: 10px;
				}
				.direct-collection .head span button{
					position: relative;
					top: 3px;
					width: 35px;
					border: none;
					height: 18px;
					background: url("static/img/icon/icon-yes.png") no-repeat center;
					float: left;
				}
				.direct-collection .head span button.active{
					background: url("static/img/icon/icon-no.png") no-repeat center;
				}
				.direct-collection .content-box{
					width: 100%;
					height: auto;
					background-color: #fffbf6;
					margin:10px 0 0 10px;
					display: inline-block;
				}
				.direct-collection .content-box ul{
					width: 100%;
					margin: 0 auto;
				}
				.direct-collection .content-box ul li.line{
					width: 100%;
					float: left;
					height: 26px;
					line-height: 26px;
					font-size: 14px;
					margin-top: 14px;
				}
				.direct-collection .content-box ul li.line:last-child{
					margin-bottom: 10px;
				}
				.direct-collection .content-box ul li.line span{
					float: left;
					display: inline-block;
					height: 26px;
				}
				.direct-collection .content-box ul li.line span.price{
					position: relative;
					width: 125px;
					margin: 0 36px 0 14px;
				}
				.direct-collection .content-box ul li.line span.price em{
					display: inline-block;
					width: 21px;
					height: 26px;
					background-color: #5078CB;
					border-radius: 2px 0 0 2px;
					font-size: 14px;
					line-height: 26px;
					color: #fff;
					text-align: center;
				}
				.direct-collection .content-box ul li.line span.price p{
					width: 125px;
					border: solid 1px #ffe8d6;
					height: 26px;
					display: inline-block;
					background: #fff;
					text-align: center;
					font-size: 14px;
				}
				.direct-collection .content-box ul li.line span.price input {
					width: 104px;
					height: 26px;
					padding: 0;
					line-height: 26px;
					float: right;
					border-radius: 0;
					text-align: center;
					font-size: 14px;
				}
				.direct-collection .content-box ul li.line span.time{
					width: 140px;
					position: relative;
					margin: 0 0 0 14px;
				}
				.direct-collection .content-box ul li.line span.time p{
					width: 125px;
					border: solid 1px #ffe8d6;
					height: 26px;
					display: inline-block;
					background: #fff;
					text-align: center;
					font-size: 14px;
				}
				.direct-collection .content-box ul li.line span:first-child{
					margin-left: 14px;
				}
				.direct-collection .content-box ul li.line span.time input{
					height: 26px;
					padding: 0;
					line-height: 26px;
					/*text-align: center;*/
					font-size: 12px;
					border-radius: 0;
					padding-left: 5px;
				}
				.direct-collection .content-box ul li.line span.time input[readonly]{
					background: #fff;
				}
				.direct-collection .content-box ul li.line span.time button.open {
					position: absolute;
					right: 4px;
					top: 1px;
					width: 18px;
					height: 24px;
					background: url(static/img/icon/icon-xiala.png) right no-repeat transparent !important;
					background-position-x: 100% !important;
					border: none;
				}
				.direct-collection .content-box ul li.line span.add-span{
					margin-left: 10px;
				}
				.direct-collection .content-box ul li.line span.add-span button{
					border: none;
					font-size: 18px;
					background: none;
				}
				.direct-collection .content-box ul li.line span.add-span button.reduce{
					color: #ff8522;
					margin-right: 3px;
				}
				.direct-collection .content-box ul li.line span.add-span button.add{
					color: #32b500;
					margin-right: 3px;
				}
				.direct-collection .content-box ul li.line .deal-btn{
					width: 140px;
					float: right;
					margin-right: 24px;
				}
				.direct-collection .content-box .deal-btn button{
					width: 60px;
					height: 26px;
					display: inline-block;
					text-align: center;
					line-height: 26px;
					font-size: 14px;
					float: left;
					border: none;
				}
				.direct-collection .content-box .deal-btn button.off{
					background: #cdcccc;
					color: #fff;
					margin-right: 20px;
				}
				.direct-collection .content-box .deal-btn button.ok{
					background: #5078cb;
					color: #fff;
				}
				.direct-collection .content-box .deal-btn button:hover{
					background: #337ab7;
					color: #fff;
				}
				.direct-collection .content-box ul li.line em.show-img{
					margin-left: 6px;
				}
				.direct-collection .content-box ul li.line em img{
					position: relative;
					top: -2px;
				}
				.direct-collection .content-box ul li.line .dropdown-menu{
					width: 256px;
				}
				.direct-collection .content-box ul li.line .dropdown-menu span{
					margin: 0;
					height: auto;
				}
				.direct-collection .content-box ul li.line .dropdown-menu button{
					border: none;
				}
			</style>
			<div class="direct-collection">
				<div class="head" ng-if="purchase.status == 501">开通  <em>【直接收款】</em> 功能，无需等待商城结算
					<span ng-click="switchToggle(isShow)"><button ng-class="{'active': !isShow}"></button></span>
				</div>
				<div class="content-box" ng-if="isShow">
					<ul>
						<li ng-repeat="item in purchase.installment.installmentDetails" class="line" ng-if="installmentBox">
							<span>第{{numArray[$index+1]}}期</span>
							<span class="price" ng-if="!editBox">
								<p ng-bind="item.price | currencySysmbol : purchase.currency"></p>
							</span>
							<span class="price" ng-if="editBox">
								<em ng-bind="purchase.currency == RMB ? '$' : '￥'"></em>
								<input type="text" class="form-control"  placeholder="请输入金额" ng-model="item.price" ng-blur="changeInstallmentPrice(item, item.price, $index)" ng-change="inputInstallmentPrice(item, item.price)"/>
							</span>
							<span>要求付款日期</span>
							<span class="time" style="width: 125px;" ng-if="!editBox">
								<p ng-bind="item.deadline | date : 'yyyy-MM-dd'"></p>
							</span>
							<span class="time" ng-if="editBox">
								<input type="text" ng-model="item.deadline"
									   class="form-control" placeholder="要求付款日期"
									   datepicker-popup="yyyy-MM-dd HH:mm:ss"
									   is-open="item.deadlineShow"
									   min-date="startDate" current-text="今天" clear-text="清除" close-text="关闭"
									   ng-click="openDatePicker($event, item, 'deadlineShow')"
									   datepicker-options="{formatDayTitle: 'yyyy年M月', formatMonth: 'M月', showWeeks: false}"
									   ng-change="changeEndDate(item, $index == 0 ? 'first' : purchase.installment.installmentDetails[$index - 1],$index == purchase.installment.installmentDetails.length -1 ? 'last' : purchase.installment.installmentDetails[$index + 1])" readonly
								/>
								<button class="open" ng-click="openDatePicker($event, item, 'deadlineShow')"></button>
							</span>
							<span class="add-span" ng-if="editBox">
								<button class="add" ng-click="addInstallmentList()" ng-if="purchase.installment.installmentDetails.length-1 ==$index && $index+1 < 5"><i class="fa fa-plus-circle"></i></button>
								<button class="reduce" ng-click="deleteInstallmentlist($index)" ng-if="purchase.installment.installmentDetails.length!=$index && purchase.installment.installmentDetails.length !=1;"><i class="fa fa-minus-circle"></i></button>
							</span>
							<em class="show-img" ng-if="item.status == 505"><img src="static/img/icon/pay-ok-icon.png"/></em>
							<span class="deal-btn" ng-if="purchase.installment.status == 503">
								<button ng-click="editInstallment()" ng-if="(purchase.status == 503 || purchase.status == 501) && purchase.installment.installmentDetails.length == $index+1 && !editBox" class="ok" style="float: right;">编辑</button>
								<button ng-click="cancelEdit()" class="off" ng-if="purchase.installment.installmentDetails.length == $index+1 && editBox">取消</button>
								<button ng-click="updateInstallment(purchase.installment)" class="ok" ng-if="purchase.installment.installmentDetails.length == $index+1 && editBox">保存</button>
							</span>
						</li>
						<li ng-repeat="item in installmentDetails" class="line" ng-if="!installmentBox">
							<span>第{{numArray[$index+1]}}期</span>
							<span class="price">
								<em ng-bind="purchase.currency == RMB ? '$' : '￥'"></em>
								<input type="text" class="form-control"  placeholder="请输入金额" ng-model="item.price" ng-blur="changeInstallmentPrice(item, item.price, $index)" ng-change="inputInstallmentPrice(item, item.price)"/>
							</span>
							<span>要求付款日期</span>
							<span class="time">
								<input type="text" ng-model="item.deadline"
									   class="form-control" placeholder="要求付款日期"
									   datepicker-popup="yyyy-MM-dd HH:mm:ss"
									   is-open="item.deadlineShow"
									   min-date="startDate" current-text="今天" clear-text="清除" close-text="关闭"
									   ng-click="openDatePicker($event, item, 'deadlineShow')"
									   datepicker-options="{formatDayTitle: 'yyyy年M月', formatMonth: 'M月', showWeeks: false}"
									   ng-change="changeEndDate(item, $index == 0 ? 'first' : installmentDetails[$index - 1],$index == installmentDetails.length -1 ? 'last' : installmentDetails[$index + 1] )" readonly
								/>
								<button class="open" ng-click="openDatePicker($event, item, 'deadlineShow')"></button>
							</span>
							<span class="add-span">
								<button class="add" ng-click="addInstallment()" ng-if="installmentDetails.length-1 ==$index && $index+1 < 5"><i class="fa fa-plus-circle"></i></button>
								<button class="reduce" ng-click="deleteInstallment($index)" ng-if="installmentDetails.length !=$index && installmentDetails.length != 1"><i class="fa fa-minus-circle"></i></button>
							</span>
							<span class="deal-btn" ng-if="installmentDetails.length == $index+1">
								<button ng-click="cancelSwitch()" class="off">取消</button>
								<button ng-click="saveInstallment(installmentDetails)" class="ok">保存</button>
							</span>
						</li>
					</ul>
				</div>
			</div>
		</div>
		<!--物流信息-->
		<div class="logistics_list01" ng-if="purchase.status != 602 && purchase.status != 603 && purchase.status != 604 && purchase.status != 605 && purchase.status != 606 && purchase.status != 315">
			<div class="log_menu">
				<span>物流信息
					<b ng-if="logistics.companyName">物流公司：{{logistics.companyName || '空'}}&nbsp;&nbsp;&nbsp;物流单号：{{logistics.number || '空'}}</b>
				</span>
			</div>
			<div class="logistics_list_xq" ng-show="hasInfo">
				<dl>
					<dd ng-repeat="info in logisticsInfo"><em></em><span ng-bind="info.AcceptTime"></span><span ng-bind="info.AcceptStation"></span></dd>
				</dl>
			</div>
			<div class="logistics_list_xq" ng-if="!hasInfo&&(purchase.status != 501 && purchase.status != 502 && purchase.status != 504 && purchase.status != 406)">
				<div class="logistics_list_xq" ng-if="!hasInfo && !noLogisticInfoArray[purchase.status]">
					<div ng-if="canShowInfo" style="text-align:center;height: 50px;line-height: 50px;font-size: 14px;">{{purchase.status | noLogisticFilter}}</div>
					<div ng-if="!canShowInfo" style="text-align:center;height: 50px;line-height: 50px;font-size: 14px; color: #b0b0b0;">系统无法提供此物流信息，请根据物流单号到相应的官网查询。</div>
				</div>
			</div>
			<div style="width:100%;text-align: center;" ng-hide="hasInfo" ng-if="purchase.status == 501 || purchase.status == 502 || purchase.status == 504 || purchase.status == 406 || purchase.status == 603">
				<em style="font-size: 14px; color:#999;line-height: 70px;">暂无物流信息</em>
			</div>
		</div>
		<!--订单信息-->
		<div class="logistics_list01">
			<div class="log_menu"><span>发票信息</span></div>
			<div class="oder_xq clearfix" style="padding-bottom: 20px;" ng-if="purchase.invoicetype==1205 || purchase.invoicetype == 1206">
				<p>
					<b>发票类型：</b>
					<span ng-if="purchase.invoicetype == 1205">增值税(专用)发票</span>
					<span ng-if="purchase.invoicetype == 1206">增值税普通发票</span>
				</p>
				<p>
					<b>发票抬头：</b>
					<span ng-bind="purchase.invoicetitle  || '空'">深圳市优软商城科技有限公司</span>
				</p>
				<p ng-if="purchase.invoicetype == 1205">
					<b>单位地址：</b>
					<span ng-if="purchase.invoiceInfo.companyAddress" ng-bind="purchase.invoiceInfo.companyAddress || '空'"></span>
				</p>
				<p ng-if="purchase.invoicetype == 1205">
					<b>单位电话：</b>
					<span ng-bind="purchase.invoiceInfo.companyPhone || '空'"></span>
				</p>
				<p ng-if="purchase.invoicetype == 1205">
					<b>税务登记号：</b>
					<span ng-bind="purchase.invoiceInfo.companyTaxNumber || '空'"></span>
				</p>
				<p ng-if="purchase.invoicetype == 1205">
					<b>开户银行：</b>
					<span ng-bind="purchase.invoiceInfo.bankName || '空'"></span>
				</p>
				<p ng-if="purchase.invoicetype == 1205">
					<b>开户银行账户：</b>
					<span ng-bind="purchase.invoiceInfo.bankAccount || '空'"></span>
				</p>
				<p>
					<b>收票人：</b>
					<span ng-bind="purchase.invoiceInfo.name || '空'">张三</span>
				</p>
				<p>
					<b>联系电话：</b>
					<span ng-bind="purchase.invoiceInfo.telephone  || '空'">13526395698</span>
				</p>
				<p>
					<b>详细地址：</b>
					<span ng-if="purchase.invoiceInfo.area" ng-bind="purchase.invoiceInfo.area + purchase.invoiceInfo.detailAddress"></span>
					<span ng-if="!purchase.invoiceInfo.area">空</span>
				</p>
			</div>
			<div style="width:100%;text-align: center;" ng-if="purchase.invoicetype==1207">
				<em style="font-size: 14px; color:#999;line-height: 70px;">暂不开票</em>
			</div>
		</div>
	</div>
</div>
<!--同意取消订单-->
<div class="com-out-box" ng-if="showNoAccountBox">
	<div class="title">
		<a ng-click="setShowNoAccountBox(false)">&times;</a>
	</div>
	<div class="content">
		<p><i class="fa fa-exclamation-circle"></i>您还未设置收款账户，不可<br/>
			开通【直接收款】功能。
		</p>
		<div class="deal-btn">
			<a ng-click="setShowNoAccountBox(false)">确定</a>
			<a ui-sref="pay_center({tab:'accountTab'})" target="_blank">设置收款账户<i class="fa fa-long-arrow-right"></i></a>
		</div>
	</div>
</div>
<div class="com-out-box" ng-if="cancelInstallmentBox">
	<div class="title">
		<a ng-click="cancelInstallment()">&times;</a>
	</div>
	<div class="content">
		<p><i class="fa fa-exclamation-circle"></i>您确认取消此分期？<br/>取消可再次新增新的分期。
		</p>
		<div class="deal-btn">
			<a ng-click="cancelInstallment()" style="background: #cdcccc">取消</a>
			<a ng-click="confirmInstallment(purchase.id)" style="width: 60px; height: 25px; background: #5078cb; color: #fff; position: relative; top: -1px;">确定</a>
		</div>
	</div>
</div>
<style>
	.com-out-box{
		position: fixed;
		z-index: 2;
		height: 150px;
		opacity: 1;
		background-color: white;
		width: 300px;
		-webkit-box-shadow: 0 5px 15px rgba(0,0,0,.5);
		box-shadow: 0 5px 15px rgba(0,0,0,.5);
		margin: -150px 0 0 -90px;
		top: 55%;
		left: 50%;
	}
	.com-out-box .title{
		height: 30px;
		background-color: #5078cb;
		text-align: right;
		line-height: 30px;
	}
	.com-out-box .title a{
		color: white;
		font-size: 28px;
		position: relative;
		top: -2px;
		right: 8px;
	}
	.com-out-box .content p{
		font-size: 14px;
		text-align: center;
		line-height:20px;
	}
	.com-out-box .content p:first-child{
		margin-top: 10px;
		line-height: 24px;
	}
	.com-out-box .content p:nth-child(2){
		font-size: 12px;
		color: #f00;
	}
	.com-out-box .content p i{
		color: #5078cb;
		font-size: 18px;
		margin-right: 8px;
	}
	.com-out-box .content div{
		width: 100%;
		margin: 0 auto;
		text-align: center;
		margin-top: 10px;
	}
	.com-out-box .content div a{
		width: 64px;
		display: inline-block;
		height: 25px;
		line-height: 25px;
		text-align: center;
		font-size: 14px;
		color: #fff;
		background: #5078cb;
	}
	.com-out-box .content div a:first-child{
		margin-right: 5px;
	}
	.com-out-box .content div a:hover{
		background: #337ab7;
	}
	.com-out-box .content div a:last-child{
		background: none;
		color: #5078cb;
		width: auto;
		font-size: 12px;
	}
</style>