<style>
    .exception h1 {
        font-size: 18px;
        font-weight: 600;
    }
    .exception .table > thead > tr {
        background: linear-gradient(hsla(213, 80%, 38%,0.7), hsla(213, 85%, 32%, 1));
        color: white;
    }
    .exception .table-bordered>thead>tr>td, .exception .table-bordered>thead>tr>th {
        border-bottom : none;
    }
    .exception .apply-detail-list {
        /*overflow: scroll;*/
    }
    .exception button.ensure-send {
        background: linear-gradient(hsla(4, 85%, 54%, 0.7), hsla(4, 85%, 54%, 1));
        width: 4em;
        border: none;
        border-radius: 3px;
        padding: 0.3em 0.7em;
        color: #fff;
        font-size: 1.2em;
    }
    .exception button.ensure-send:hover {
        box-shadow: 0 0 0 2px hsl(11, 97%, 51%) ;
    }
    .exception button[disabled] {
        cursor: not-allowed;
        opacity: 0.7;
    }
</style>
<div class="exception">
    <h1>异常管理</h1>
    <div class="apply-detail-list">
        <table class="table table-bordered" ng-table="applyDetailTableParams">
            <thead>
            <tr>
                <th>序号</th>
                <th>编号</th>
                <th>品牌</th>
                <th>类目</th>
                <th>采购数量</th>
                <th>采购金额</th>
                <th>单价</th>
                <th>币种</th>

                <th>请求类型</th>
                <th>补充说明</th>
                <th>我的意见</th>
                <th>补充说明</th>

                <th>操作</th>
            </tr>
            </thead>
            <tbody>
            <tr ng-repeat="applyDetail in $data">
                <td>{{$index + 1}}</td>
                <td>
                    异常申请明细号：
                    <span ng-bind="applyDetail.applyDetailId"></span><br>
                    产品批次号：
                    <span ng-bind="applyDetail.orderDetail.batchCode"></span><br>
                    产品型号：
                    <span ng-bind="applyDetail.orderDetail.cmpCode"></span>
                </td>
                <td><span ng-bind="applyDetail.orderDetail.brName"></span></td>
                <td><span ng-bind="applyDetail.orderDetail.kiName"></span></td>
                <td><span ng-bind="applyDetail.orderDetail.number"></span></td>
                <td><span ng-bind="applyDetail.orderDetail.ensurePrice"></span></td>
                <td><span ng-bind="applyDetail.orderDetail.taxUnitprice"></span></td>
                <td><span ng-bind="applyDetail.orderDetail.currencyName"></span></td>

                <td>
                    <span ng-bind="applyTypes[applyDetail.negotiations.last().mallToSupApplyType]"></span>
                </td>
                <td><span ng-bind="applyDetail.negotiations.last().mallToSupApplyReason"></span></td>
                <td>
                    <select ng-model="applyDetail.applyType">
                        <option value="">请选择类型</option>
                        <option value="RETURN">退货</option>
                        <option value="EXCHANGE">换货</option>
                        <option value="REFUSE">拒绝</option>
                    </select>
                </td>
                <td><textarea ng-model="applyDetail.applyReason"></textarea></td>

                <td>
                    <button class="ensure-send" ng-click="ensureSend(applyDetail)">发送</button>
                </td>
            </tr>
            </tbody>
        </table>
    </div>
</div>