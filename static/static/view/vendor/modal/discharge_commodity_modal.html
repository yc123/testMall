<style>
	.row {
		padding-top: 10px;
		padding-left: 20px;
		padding-right: 20px;
		font-size: 14px;
	}
	.head {
		font-size: 18px;
		font-weight: 600;
	}
	.alldis {
		margin-bottom: 15px;
	}
	.modal-head {
		border-bottom: 1px solid #ddd;
	}
	.modal-body {
		line-height : 20px;
	}
	.mid-qty-box>i {
		position: absolute;
		left: 40%;
		top: -15px;
	}
	.fwidth {
		width: 90%;
	}
	.row .input-group {
		margin-top : 0px;
		margin-bottom: 10px;
	}
	label {
		text-align : right;
	}

	.margin-top-neg-10 {
		margin-top: -10px !important;
	}

	.fregment-padding {
		padding-right: 0px;
		padding-left: 0px;
	}

	.insert-frag, .delete-frag {
		line-height: 1.5;
		height: 30px;
	}

	.delete-frag {
		margin-left: -30px;
		padding-left: 0px;
	}

	.labbel-info {
		height: 30px;
		line-height: 30px;
	}

	.padding-right-40 {
		padding-right: 40px !important;
	}

	.line-height-30 {
		line-height: 30px !important;
	}

	.myForm input.input-sm {
		line-height: inherit !important;
	}

	.new-reserve{
		font-weight: bold !important;
		color: #ff0000;
	}

	.delivery-time {
		width: 90%;
		text-align: left;
		padding-left: 34px;
	}
</style>
<div class="modal-head">
<div class="row" style="padding-bottom: 5px;">
	<div class="col-xs-4 head">修改库存信息</div>
</div>
</div>
<div class="modal-body" style="padding-top: 0px;">
	<form name="myForm">
		<div class="row line-height-30">
				<label class="col-xs-2">产品类目：</label>
				<span  class="col-xs-3" ng-bind="goods.kindNameCn"></span>
				<label class="col-xs-2">产品品牌：</label>
				<span class="col-xs-3" ng-bind="goods.brandNameCn"></span>
		</div>
		<div class="row line-height-30">
			<label class="col-xs-2">产品型号：</label>
			<span  class="col-xs-3" ng-bind="goods.code"></span>
			<label class="col-xs-2">币别：</label>
			<span  class="col-xs-3" ng-bind="goods.currencyName"></span>
		</div>
		<div class="row line-height-30">
			<label class="col-xs-2">库存数量：</label>
			<div class="col-xs-3">
				<span  ng-bind="goods.oldReserve"></span>&nbsp;&nbsp;PCS
			</div>
			<label class="col-xs-2">库存类型：</label>
			<span  class="col-xs-3" ng-if="goods.original==1311">现货</span>
			<span  class="col-xs-4" ng-if="goods.original==1312">呆滞库存</span>
		</div>
		<div class="row">
			<label class="col-xs-2 labbel-info new-reserve">新库存：</label>
			<div class="col-xs-3 padding-right-40">
				<div class="input-group input-group-xs">
					<input class="input form-control" type="number" min="0"  ng-model="newreserve" ng-change="changeDisnum(newreserve);"  ng-pattern="/^[1-9]\d*$/">
					<span class="input-group-addon">PCS</span>
				</div>
			</div>
			<label class="col-xs-2 labbel-info">生产日期：</label>
			<div class="col-xs-3 padding-right-40">
				<div class="input-group input-group-xs input-trigger">
					<input type="text" ng-model="goods.produceDate" class="input form-control"  />
<!--					<input type="text" ng-model="goods.produceDate" id="produceDate"
						class="input form-control" placeholder="点击选择产品的生产日期" readonly="readonly"
						datepicker-popup="yyyy-MM-dd" is-open="goods.$produceOpen"
						ng-required="true" current-text="今天"
						clear-text="清除" close-text="关闭"
						datepicker-options="{formatDayTitle: 'yyyy年M月', formatMonth: 'M月', showWeeks: false}"
						ng-click="openDatePicker($event, '$produceOpen')"> 
					<span class="input-group-btn">
						<button type="button" class="btn btn-default"
							ng-click="openDatePicker($event, '$produceOpen')">
							<i class="fa fa-calendar"></i>
						</button>
					</span>-->
				</div>
			</div>
		</div>
		<div class="row">
			<label class="col-xs-2 labbel-info" ng-if="goods.currencyName.indexOf('RMB') > -1">最长大陆交期：</label>
			<div class="col-xs-3 padding-right-40" ng-if="goods.currencyName.indexOf('RMB') > -1">
				<div class="input-group input-group-xs">
					<select class="form-control" ng-model="goods.selfDeliveryDemMaxTime" ng-required="true">
						<option ng-value="t" ng-repeat="t in maxNumber">{{t}}</option>
					</select>
					<span class="input-group-addon text-num">天</span>
				</div>
			</div>
			<label class="col-xs-2 labbel-info" ng-if="goods.currencyName.indexOf('RMB') > -1">最短大陆交期：</label>
			<div class="col-xs-3 padding-right-40" ng-if="goods.currencyName.indexOf('RMB') > -1">
				<div class="input-group input-group-xs">
					<select class="form-control" ng-model="goods.selfDeliveryDemMinTime" ng-required="true">
						<option ng-value="t" ng-repeat="t in maxNumber">{{t}}</option>
					</select>
					<span class="input-group-addon text-num">天</span>
				</div>
			</div>
		</div>
		<div class="row">
			<!--香港交期-->
			<label class="col-xs-2 labbel-info" ng-if="goods.currencyName.indexOf('USD') > -1">最长香港交期：</label>
			<div class="col-xs-3 padding-right-40" ng-if="goods.currencyName.indexOf('USD') > -1">
				<div class="input-group input-group-xs">
					<select class="form-control" ng-model="goods.selfDeliveryHKMaxTime" ng-required="true">
						<option ng-value="t" ng-repeat="t in maxNumber">{{t}}</option>
					</select>
					<span class="input-group-addon text-num">天</span>
				</div>
			</div>
			<label class="col-xs-2 labbel-info" ng-if="goods.currencyName.indexOf('USD') > -1">最短香港交期：</label>
			<div class="col-xs-3 padding-right-40" ng-if="goods.currencyName.indexOf('USD') > -1">
				<div class="input-group input-group-xs">
					<select class="form-control" ng-model="goods.selfDeliveryHKMinTime" ng-required="true">
						<option ng-value="t" ng-repeat="t in maxNumber">{{t}}</option>
					</select>
					<span class="input-group-addon text-num">天</span>
				</div>
			</div>
		</div>

		<!-- 分段价格 start -->
		<div class="form-group row">
			<!--<label for="kind" class="col-xs-2 control-label"></label>-->
			<div class="col-xs-11 fregment-padding">
				<div class="row margin-top-neg-10 fregment-padding" style="margin-left: 120px;">
					<div class="col-xs-3 text-center text-bold"><div style="width: 90%;">数量</div></div>
					<div class="col-xs-4 text-center text-bold" ng-class="{'col-xs-offset-3':goods.currencyName == 'RMB'}"
						 ng-if="goods.currencyName == 'RMB' || goods.currencyName == 'RMB-USD'"><div class="delivery-time">大陆交货(￥)</div></div>
					<div class="col-xs-4 text-center text-bold fregment-padding" ng-class="{'col-xs-offset-3':goods.currencyName == 'USD'}"
						 ng-if="goods.currencyName == 'USD' || goods.currencyName == 'RMB-USD'"><div class="delivery-time">香港交货($)</div></div>
				</div>
				<div class="row fregment-padding" ng-repeat="qp in goods.prices" style="margin-left: 120px;">
					<div class="col-xs-3 text-center fregment-padding">
						<div class="input-group" style="width: 90%;">
							<!-- <span class="input-group-addon text-num">≥</span> -->
							<input ng-model="qp.start" type="text" class="form-control input-sm" placeholder="分段数量" ng-disabled="true"/>
							<span class="input-group-addon text-num" style="padding: 6px 6px;">
								<i class="fa fa-long-arrow-right"></i>
							</span>
							<input ng-model="qp.end" type="text" class="form-control input-sm" placeholder="分段数量" ng-disabled="true"/>
						</div>
					</div>
					<div class="col-xs-4 text-center" ng-class="{'col-xs-offset-3':goods.currencyName == 'RMB'}"
						 ng-if="goods.currencyName.indexOf('RMB') > -1">
						<div class="input-group" style="width: 90%;">
							<span class="input-group-addon text-num">￥</span>
							<input ng-model="qp.rMBPrice" type="text" class="form-control input-sm"
								placeholder="人民币单价" ng-parttern="/^((\d)|(\d+\.?\d+))$/" required="required"/>
							<span class="input-group-addon text-num" >/ pcs</span>
						</div>
					</div>
					<div class="col-xs-4 text-center fregment-padding" ng-class="{'col-xs-offset-3':goods.currencyName == 'USD'}"
						 ng-if="goods.currencyName.indexOf('USD') > -1">
						<div class="input-group" style="width: 90%;padding-right: 30px;">
							<span class="input-group-addon text-num">$</span>
							<input ng-model="qp.uSDPrice" type="text" class="form-control input-sm"
								   placeholder="美元单价" ng-parttern="/^((\d)|(\d+\.?\d+))$/" required="required"/>
							<span class="input-group-addon text-num">/ pcs</span>
						</div>
					</div>
					<div class="col-xs-1 text-left delete-frag">
						<!-- <button class="btn btn-default btn-sm"><i class="fa fa-plus"></i></button> -->
						<button ng-if="!$first" class="btn btn-default btn-sm" ng-click="deleteQtyPrice($index, myForm)"
							title="取消这个分段设置"><i class="fa fa-trash"></i>
						</button>
					</div>
				</div>
				<div class="row fregment-padding" style="margin-left: 120px;">
					<div class="col-xs-3 text-center mid-qty-box fregment-padding">
						<i class="fa fa-angle-up fa-lg"></i>
						<input ng-model="midQty" type="number" class="form-control input-sm" placeholder="分段数量"  ng-pattern="/^[1-9]\d*$/" style="width: 90%"/>
					</div>
					<div class="col-xs-4 text-left insert-frag">
						<button class="btn btn-info btn-sm" ng-click="setMidQty(midQty)" ng-disabled="midQty == null || goods.prices.length == 3">
							<i class="fa fa-plus"></i> 插入分段
						</button>
					</div>
				</div>
			</div>
		</div>
		<!-- 分段价格 end -->
		<div class="row" style="margin-left: 120px; padding-left: 15px;">
			<button class="btn btn-success col-xs-2" ng-click="updateGoods()" ng-disabled="myForm.$invalid || !myForm.$dirty">保存修改</button>
			<button class="btn btn-info col-xs-2 col-xs-offset-4" ng-click="cancel()">取消修改</button>
		</div>
	</form>	
</div>
