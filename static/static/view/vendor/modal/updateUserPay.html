<style>
    .userPay .modal-body .row {
        line-height: 34px;
        font-size: 14px;
        color: #666;
    }
    .modal-content {
        width: 409px;
    }
    .modal-header {
        background: #5078cb;
        text-align: center;
    }
    .modal-header p {
        color: #fff;
    }
    .modal-header i {
        font-size: 12px;
        position: absolute;
        right: 7px;
        top: 7px;
        color: #fff;
        cursor: pointer;
    }
    .userPay .modal-body .row >label {
        padding: 0;
    }
    .userPay .modal-body .row .col-md-8 {
        padding-left: 0;
    }
    .userPay .modal-body .row .col-md-8 input {
        border-radius: 0;
    }
    .modal-footer >button {
        width: 90px;
        height: 28px;
        border: 1px solid #5078cb;
        line-height: 28px;
        text-align: center;
    }
    .modal-footer >button[disabled] {
        cursor: not-allowed;
    }
    .modal-footer >button:first-child {
        background: #fff;
        color: #5078cb;
        margin-right: 10px;
    }
    .modal-footer {
        text-align: center;
        border: none;
        padding: 0 0 25px 0;
    }
    .modal-footer >button:last-child {
        background: #5078cb;
        color: #fff;
    }
    .userPay .warn-style {
        color: #cc0000;
        font-size: 14px;
        margin-left: 85px;
        margin-bottom: 10px;
    }
    .userPay .modal-body .row .col-md-8 img {
        position: absolute;
        right: 20px;
        top: 8px;
    }
    .userPay .softkeys {
        position: absolute;
        background: #eee;
        z-index: 10000;
        top: 7px;
        left: 0;
        width: 46em;
        box-shadow: 1px 1px 11px;
        padding: 10px 0;
        border-radius: 5px;
    }
    .modal-dialog {
        min-height: 500px;
    }
</style>
<div ng-click="closeKeyboard()">
    <div class="modal-header">
        <img src="static/img/user/images/update-pay.png" alt="">
        <p>支付密码</p>
        <i class="glyphicon glyphicon-remove" ng-click="cancel()"></i>
    </div>
    <form class="userPay" name="sampleSendForm" ng-submit="ok()" ng-init="checkHaveUserPay()">
        <div class="modal-body">
            <div class="row line oldUserPay">
                <label class="col-md-3 col-sm-3 col text-right">原密码：</label>
                <div class="col-md-8 col-sm-8 col">
                    <input ng-model="user.userPay"
                           class="form-control input-sm" type="password" name="userPay" ng-blur="checkUserPay(user.userPay)">
                    <img src="static/img/user/images/keyboard.png" ng-click="reloadKeyboard('showUserPay', $event)" alt="">
                    <div ng-show="showUserPay" class="softkeys softkeys1" data-target="input[name='userPay']"></div>
                </div>
                <div class="col">
                    <img ng-show="checkSuccess" src="static/img/user/images/input-check-yes.png" alt="">
                    <!--<i ng-show="checkSuccess" class="fa fa-check" style="color:#339933"></i>-->
                    <!--<i ng-show="checkFailed" class="fa fa-close" style="color:#CC3333;"></i>-->
                </div>
            </div>
            <div class="warn-style oldUserPay" ng-show="checkFailed">密码为6位数字</div>
            <div class="row">
                <label class="col-md-3 col-sm-3 col text-right" ng-hide="!isNewFailed">新密码：</label>
                <label class="col-md-3 col-sm-3 col text-right" ng-hide="!isNewSuccess">密码：</label>
                <div class="col-md-8 col-sm-8 col">
                    <input ng-model="user.newUserPay"
                           class="form-control input-sm" type="password" name="newUserPay" ng-blur="checkNewUserPay(user.newUserPay)">
                    <img src="static/img/user/images/keyboard.png" ng-click="reloadKeyboard('showNewUserPay', $event)" alt="">
                    <div ng-show="showNewUserPay" class="softkeys softkeys2" data-target="input[name='newUserPay']"></div>
                    <!-- <div>密码复杂度</div> -->
                </div>
                <div class="col">
                    <img ng-show="checkSuccess1" src="static/img/user/images/input-check-yes.png" alt="">
                    <!--<i ng-show="checkSuccess1" class="fa fa-check" style="color:#339933"></i>-->
                    <!--<i ng-show="checkFailed1" class="fa fa-close" style="color:#CC3333;"></i>-->
                </div>
            </div>
            <div class="warn-style" ng-show="checkFailed1">密码为6位数字</div>
            <div class="row">
                <label class="col-md-3 col-sm-3 col text-right">确认密码：</label>
                <div class="col-md-8 col-sm-8 col">
                    <input ng-model="user.newUserPay1"
                           class="form-control input-sm" name="newUserPay1"  type="password" ng-blur="checkNewUserPay1()">
                    <img src="static/img/user/images/keyboard.png" ng-click="reloadKeyboard('showNewUserPay1', $event)" alt="">
                    <div ng-show="showNewUserPay1" class="softkeys softkeys3" data-target="input[name='newUserPay1']"></div>
                </div>
                <div class="col">
                    <img ng-show="checkSuccess2" src="static/img/user/images/input-check-yes.png" alt="">
                    <!--<i ng-show="checkSuccess2" class="fa fa-check" style="color:#339933"></i>-->
                    <!--<i ng-show="checkFailed2" class="fa fa-close" style="color:#CC3333;"></i>-->
                </div>
            </div>
            <div class="warn-style" ng-show="checkFailed2">两次输入的密码不一致</div>
        </div>
        <div class="modal-footer">
            <button ng-click="cancel()" type="button">取消</button>
            <button type="submit">确定</button>
        </div>
    </form>
</div>
<script>
    function resetKeyboard(str) {
        $(str).softkeys({
            target : $(str).data('target'),
            layout : [
                [
                    ['`','~'],
                    ['1','!'],
                    ['2','@'],
                    ['3','#'],
                    ['4','$'],
                    ['5','%'],
                    ['6','^'],
                    ['7','&'],
                    ['8','*'],
                    ['9','('],
                    ['0',')'],
                    ['-', '_'],
                    ['=','+'],
                    'delete'
                ],
                [
                    'q','w','e','r','t','y','u','i','o','p',
                    ['[','{'],
                    [']','}']
                ],
                [
                    'capslock',
                    'a','s','d','f','g','h','j','k','l',
                    [';',':'],
                    ["'",'"'],
                    ['\\','|']
                ],
                [
                    'shift',
                    'z','x','c','v','b','n','m',
                    [',','<'],
                    ['.','>'],
                    ['/','?'],
                    ['@']
                ]
            ]
        });
    }
    resetKeyboard('.softkeys1');
    resetKeyboard('.softkeys2');
    resetKeyboard('.softkeys3');
    $('.softkeys').on('click', function (event) {
        event.stopPropagation();
    })
</script>