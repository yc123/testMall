<style>
    .modal {
        top: 0;
        left: 0;
        margin-left: 0;
        margin-top: 0;
    }
.modal-dialog{
    width: 795px;
}
.modal-content{
    border-radius: 0;
    padding-bottom: 20px;
}
.upload-product{
    width: 100%;
    margin: 0 auto;
}
.upload-product .menu{
    width: 100%;
    margin: 0 auto;
    height: 50px;
    background: #e9e9e9;
    line-height: 50px;
    border-bottom: #ccc 1px solid;
}
.content-tab .table tbody tr.check:hover td.check-act i {
    color: #FF0000;
}
.upload-product .menu div{
    float: left;
}
.upload-product .menu div.fl{
    margin-left: 15px;
    font-size: 14px;
}
.upload-product .menu div.fr{
    margin-left: 25px;
}
.upload-product .menu div.fr span{
    float: left;
    font-size: 14px;
    margin: 0 3px;
}
.upload-product .menu div.fr span .error-message{
	border: #FF0000 1px solid !important;
}
.upload-product .menu div.fr span .form-control{
    border-radius: 0;
    border: none;
    height: 30px;
    width: 62px;
    margin-top: 10px;
}
.upload-product .menu div.fr span .form-control.search{
    width: 320px;
    margin-right: 10px;
}
.upload-product .menu div.fr span button{
    width: 30px;
    height: 30px;
    line-height: 30px;
    background: #5b5a5a;
    font-size: 14px;
    color: #fff;
    border: none;
}
    .content-tab{
        width: 98%;
        margin: 0 auto;
    }
.content-tab .table{
    margin-bottom: 0;
}
.content-tab .table thead tr {
    height: 40px;
}
.content-tab .table tbody tr:first-child{
    border-top: #cfcfcf 1px dashed;
}
.content-tab .table thead tr th{
    font-weight: normal;
    font-size: 14px;
    text-align: center;
}
.content-tab .table tbody tr{
    height: 104px;
    border-bottom: #cfcfcf 1px dashed;
}
.content-tab .table tbody tr.check{
    border: #5078cb 1px dashed;
}
.content-tab .table tbody tr.check + tr{
    border-top: #5078cb 1px dashed;
}
.content-tab .table tbody tr.check .check-act{
    position: relative;
}
.content-tab .table tbody tr.check .check-act div{
    position: absolute;
    top: 0;
    right: 5px;
    width: 24px;
    height: 24px;
    color: #fff;
    text-align: center;
    line-height: 24px;
    background: #5078cb;
}
.content-tab .table tbody tr.check .check-act a{
    color: #bab9b9;
    font-size: 20px;
}
.content-tab .table tbody tr .check-act div,.content-tab .table tbody tr .check-act a{
    display: none;
}
.content-tab .table tbody tr.check .check-act div,.content-tab .table tbody tr.check .check-act a{
    display: block;
}
.content-tab .table tbody tr td{
    vertical-align: middle;
    text-align: center;
    font-size: 14px;
    border-top: none;
}
.content-tab .table tbody tr div{
    width: 100%;
    line-height: 24px;
    overflow: hidden ;
}
.content-tab .table tbody tr div span{
    float: left;
    font-size: 14px;
}
.content-tab .table tbody tr div p{
    font-size: 14px;
    text-align: center;
}
.content-tab .table tbody tr div.img{
    width: 60px;
    height: 60px;
    border: #e8e8e8 1px solid;
    overflow: hidden;
}
.table>thead>tr>th{
    border-bottom: none;
}
.content-tab .table tbody tr div.img img{
    width: 60px;
    height: 60px;
}
.v-top{
    vertical-align: top !important;
    padding-top: 15px !important;
}
.v-top div p.produceDate{
    text-align: left !important ;
}
.record-line {
    font-size: 12px;
    min-height: 30px;
    line-height: 30px;
    text-align: right;
    margin-right: 40px;
}
.upload-product .deal-btn{
    width: 100%;
    margin: 0 auto;
    text-align: right;
    padding-right: 40px;
    margin-top: 10px;
    }
.upload-product .deal-btn a{
    width: 65px;
    height: 34px;
    display: inline-block;
    line-height: 34px;
    text-align: center;
    font-size: 14px;
}
.upload-product .deal-btn a.ok:hover,.upload-product .deal-btn a.off:hover{
    background: #3f7ae3;
    color: #fff;
}
.upload-product .deal-btn a.ok{
    background: #5078cb;
    color: #fff;
}
.upload-product .deal-btn a.off{
    background: #b4b5b9;
    color: #333;
    margin-right: 10px;
}
.check-input{
    width: 100%;
    margin: 0 auto;
    height: 85px;
    background: #e9e9e9;
    border-bottom: #ccc 1px solid;
    padding-top: 10px;
}
.check-input span{
    float: left;
    font-size: 14px;
    margin-left: 15px;
}
.check-input .textarea{
    float: right;
    width: 667px;
}
.check-input .textarea .form-control{
    border: none;
    border-radius: 2px;
    height: 64px;
    width: 650px;
    overflow-y: auto;
    overflow-x: hidden;
}
.check-input .textarea .form-control a{
    font-size: 14px;
    color: #333;
    display: inline-block;
    padding: 1px;
    border-radius: 2px;
    float: left;
    margin-right: 10px;
}
.check-input .textarea .form-control a:hover{
    background: #5078cb;
    color: #fff;
}
.check-input .textarea .form-control .show-product {
    background: #5078cb;
    color: #fff;
}
.check-input .textarea .form-control a em{
    display: inline-block;
    max-width: 114px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
    line-height: 24px;
    float: left;
}
.check-input .textarea .form-control a:hover i{
    color: #FF0000;
}
.check-input .textarea .form-control a i{
    color: #bab9b9;
    margin-left: 3px;
    font-size: 16px;
    line-height: 24px;
}
.content-tab .table tbody tr.bot-none{
    border-bottom: none;
}
[ng-table-pagination] div {
    height: 41px;
}
.more-text-span{
    max-width: 54px;overflow: hidden;text-overflow: ellipsis;white-space: nowrap;
}
input::-webkit-outer-spin-button,
input::-webkit-inner-spin-button {
	-webkit-appearance: none;
}
input[type="number"] {
	-moz-appearance: textfield;
}
.modal{
    position: fixed !important;
}
/*.modal .modal-content{*/
    /*position: absolute;*/
    /*bottom: auto;*/
/*}*/
@media (max-height: 768px){
    .modal-dialog{
        margin-top: 10px;
    }
    .upload-product{
        overflow-y: auto;
        max-height: 630px;
    }
}
@media (max-height: 720px){
    .modal-dialog{
        margin-top: 10px;
    }
    .upload-product{
        overflow-y: auto;
        max-height: 580px;
    }
}
</style>
<div class="upload-product">
    <div class="menu">
        <div class="fl">请选择要推荐的产品<em ng-if="isBatch">({{countOfProduct}}/10)</em></div>
        <div class="fr">
            <span><input type="search" class="form-control search" placeholder="类目/型号/品牌" ng-model="keyword" ng-search="searchProduct()"></span>
            <span>价格:</span>
            <span><input type="text" class="form-control" ng-model="minPrice" min="0" ng-blur="checkPrice('MIN_PRICE')" ng-class="{'error-message': showMinPriceMessage}"></span>
            <span>-</span>
            <span><input type="number" class="form-control" ng-model="maxPrice" min="0" ng-blur="checkPrice('MAX_PRICE')" ng-class="{'error-message': showMaxPriceMessage}"></span>
            <span style="margin: 0;"><button ng-click="searchProduct()" ng-disabled="showMinPriceMessage || showMaxPriceMessage"><i class="fa fa-search"></i></button></span>
        </div>
    </div>
    <div class="check-input" ng-if="isBatch">
        <span>已选中的产品 :</span>
        <div class="textarea">
            <div class="form-control">
                <a ng-repeat="product in existProducts" ng-click="topSelectedProduct(product)" ng-class="{'show-product': product.isShow}">
                    <em ng-bind="product.comCode" title="{{product.comCode}}">LPCLPC1112CC</em><i class="fa fa-minus-circle" ng-click="deleteOneProduct(product)"></i>
                </a>
            </div>
        </div>
    </div>
    <div class="content-tab">
        <table class="table" ng-table="productTableParams">
            <thead>
                <tr>
                    <th width="50">序号</th>
                    <th colspan="2">产品信息</th>
                    <th width="115">封装/生产日期</th>
                    <th width="110">库存</th>
                    <th width="80">数量</th>
                    <th width="100">单价</th>
                    <th width="100">交期</th>
                    <th width="30">&nbsp;</th>
                </tr>
            </thead>
            <tbody>
                <tr ng-if="commodity && commodity.id" class="check">
                    <td></td>
                    <td style="padding-right: 0;"><div class="img"><img ng-src="{{ commodity.img || 'static/img/store/common/default.png'}}"  alt="器件图片"/></div></td>
                    <td>
                        <div>
                            <span>类目：</span>
                            <span class="more-text-span" ng-bind="commodity.kindNameCn" title="{{commodity.kindNameCn}}">LPC1112</span>
                        </div>
                        <div>
                            <span>型号：</span>
                            <span class="more-text-span" ng-bind="commodity.code" title="{{commodity.code}}">LPC1112</span>
                        </div>
                        <div>
                            <span>品牌：</span>
                            <span class="more-text-span" ng-bind="commodity.brandNameEn" title="{{commodity.brandNameEn}}">LPC1112</span>
                        </div>
                    </td>
                    <td class="v-top">
                        <div>
                            <span>封装：</span>
                            <span ng-bind="commodity.packaging">GHGH</span>
                        </div>
                        <div>
                            <p ng-bind="commodity.produceDate | date : 'yyyy.MM.dd'" class="produceDate">2017.07.10</p>
                        </div>
                    </td>
                    <td>
                        <div>
                            <span>库存：</span>
                            <span ng-bind="commodity.reserve">3000</span>
                        </div>
                        <div>
                            <span>起订量：</span>
                            <span ng-bind="commodity.minBuyQty" style="max-width: 34px;min-width: 11px;">1210</span>
                        </div>
                        <div>
                            <span>自营</span>
                        </div>
                    </td>
                    <td class="v-top">
                        <div ng-repeat="price in commodity.prices">
                            <p>{{price.start}}+</p>
                        </div>
                    </td>
                    <td class="v-top">
                        <div ng-repeat="price in commodity.prices">
                            <p ng-if="price.rMBPrice">¥{{price.rMBPrice}}</p>
                            <p ng-if="!price.rMBPrice">{{price.uSDPrice}}</p>
                        </div>
                    </td>
                    <td class="v-top">
                        <div ng-if="commodity.minPriceRMB && commodity.selfDeliveryDemMinTime && commodity.selfDeliveryDemMaxTime">
                            <span>大陆：</span>
                            <span>{{commodity.selfDeliveryDemMinTime + '-' + commodity.selfDeliveryDemMaxTime}}</span>
                        </div>
                        <div ng-if="commodity.minPriceRMB && (!commodity.selfDeliveryDemMinTime || !commodity.selfDeliveryDemMaxTime)">
                            <span>{{commodity.selfDeliveryDemMinTime + '-' + commodity.selfDeliveryDemMaxTime}}</span>
                        </div>
                        <div ng-if="!commodity.minPriceRMB && (commodity.selfDeliveryHKMinTime && commodity.selfDeliveryHKMaxTime)">
                            <span>香港：</span>
                            <span>{{commodity.selfDeliveryHKMinTime + '-' + commodity.selfDeliveryHKMaxTime}}</span>
                        </div>
                        <div ng-if="!commodity.minPriceRMB && (!commodity.selfDeliveryHKMinTime || !commodity.selfDeliveryHKMaxTime)">
                            <span>{{commodity.selfDeliveryHKMinTime + '-' + commodity.selfDeliveryHKMaxTime}}</span>
                        </div>
                    </td>
                    <td class="check-act">
                        <div ng-if="isBatch" ng-bind="commodity.order || 0"></div>
                        <a ng-click="deleteProduct(commodity)"><i class="fa fa-minus-circle"></i></a>
                    </td>
                </tr>
                <tr ng-repeat="goods in $data" ng-click="chooseProduct(goods)" ng-class="{ 'check': goods.isSelect }">
                    <td>{{ (pageParams.number - 1) * pageParams.size + $index + 1 | indexToString }}</td>
                    <td style="padding-right: 0;"><div class="img"><img ng-src="{{ goods.img || 'static/img/store/common/default.png'}}"  alt="器件图片"/></div></td>
                    <td>
                        <div>
                            <span>类目：</span>
                            <span class="more-text-span" ng-bind="goods.kindNameCn" title="{{goods.kindNameCn}}" >LPC1112</span>
                        </div>
                        <div>
                            <span>型号：</span>
                            <span class="more-text-span" ng-bind="goods.code" title="{{goods.code}}">LPC1112</span>
                        </div>
                        <div>
                            <span>品牌：</span>
                            <span class="more-text-span" ng-bind="goods.brandNameEn" title="{{goods.brandNameEn}}">LPC1112</span>
                        </div>
                    </td>
                    <td class="v-top">
                        <div>
                            <span>封装：</span>
                            <span ng-bind="goods.packaging">GHGH</span>
                        </div>
                        <div>
                            <p class="produceDate" ng-bind="goods.produceDate | date : 'yyyy.MM.dd'">2017.07.10</p>
                        </div>
                    </td>
                    <td>
                        <div>
                            <span>库存：</span>
                            <span ng-bind="goods.reserve">3000</span>
                        </div>
                        <div>
                            <span>起订量：</span>
                            <span ng-bind="goods.minBuyQty" style="max-width: 34px;min-width: 11px;">1210</span>
                        </div>
                        <div>
                            <span>自营</span>
                        </div>
                    </td>
                    <td class="v-top">
                        <div ng-repeat="price in goods.prices">
                            <p>{{price.start}}+</p>
                        </div>
                    </td>
                    <td class="v-top">
                        <div ng-repeat="price in goods.prices">
                            <p ng-if="price.rMBPrice">¥{{price.rMBPrice}}</p>
                            <p ng-if="!price.rMBPrice">{{price.uSDPrice}}</p>
                        </div>
                    </td>
                    <td class="v-top">
                        <div ng-if="goods.minPriceRMB && goods.selfDeliveryDemMinTime && goods.selfDeliveryDemMaxTime">
                            <span>大陆：</span>
                            <span>{{goods.selfDeliveryDemMinTime + '-' + goods.selfDeliveryDemMaxTime}}</span>
                        </div>
                        <div ng-if="goods.minPriceRMB && (!goods.selfDeliveryDemMinTime || !goods.selfDeliveryDemMaxTime)">
                            <span>{{goods.b2cMinDelivery + '-' + goods.b2cMaxDelivery}}</span>
                        </div>
                        <div ng-if="!goods.minPriceRMB && (goods.selfDeliveryHKMinTime && goods.selfDeliveryHKMaxTime)">
                            <span>香港：</span>
                            <span>{{goods.selfDeliveryHKMinTime + '-' + goods.selfDeliveryHKMaxTime}}</span>
                        </div>
                        <div ng-if="!goods.minPriceRMB && (!goods.selfDeliveryHKMinTime || !goods.selfDeliveryHKMaxTime)">
                            <span>{{goods.b2cMinDelivery + '-' + goods.b2cMaxDelivery}}</span>
                        </div>
                    </td>
                    <td class="check-act">
                    </td>
                </tr>
                <tr style="height: 30px;border-bottom: none;">
                    <td class="record-line" style="font-size: 12px;line-height: 30px;text-align: right;" colspan="8">
                        显示<em ng-bind="(pageParams.number - 1) * pageParams.size + $index + 1">1</em>-<em ng-bind="pageParams.number * pageParams.size">5</em>，共：<span style="color: #5078cb;" ng-bind="pageParams.totalElements">300</span>个
                    </td>
                </tr>
            </tbody>
        </table>
        <div class="deal-btn">
            <a ng-click="cancelOperation()" class="off">取消</a>
            <a ng-click="saveOperation()" class="ok">确定</a>
        </div>
    </div>
</div>
<script>
    $(function(){
        $(".content-tab tbody tr.check").each(function(){
           $(this).prev().addClass('bot-none');
        });
    })
</script>
