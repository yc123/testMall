<!--suppress ALL -->

<style>
.margin-15 {
	margin-top: 15px;
	margin-bottom: 15px;
}

.block {
	display: block;
}
/* 标题区域*/
.title-div {
	width: 124px;
	height: 40px;
	border: 1px solid #c0c0c0;
	background-color: #2A53A7;
	color: #FFFFFF;
	line-height: 38px;
	text-align: center;
}

/* 标题内容  */ 
.titleSpan {
	font-size: 20px;
	font-weight: 400;
	font-family: '微软雅黑';
	
}

/* 填写时间  总价值*/
.invoice-info {
	margin-top: 20px;
}

.createTime {
	display: inline-block;
	margin-top: 5px;
	font-size: 14px;
	font-family: '微软雅黑';
}

.totalPrice {
	display: inline-block;
	margin-top: 5px;
	margin-right: 80px;
	font-size: 14px;
	font-family: '微软雅黑';
}

/* 发货信息
------------------------------------ */
.logistics-confirm {
	padding-bottom: 5px;
	margin-bottom: 45px;
}

.logistics-confirm .cust-table {
	margin: 0;
}

.logistics-confirm .shipper-table {
	border-color: #1BA5F8;
}

.logistics-confirm .shipper-table td {
	border-color: #1BA5F8;
}

.logistics-confirm .table tr th {
	height: 46px;
	background-color: #0C3894;
	background-image: url('/static/img/product/title-higher-bg.png');
	color: #FFFFFF;
	font-size: 14px;
	font-weight: normal;
	text-align: center;
	vertical-align: middle;
}

.receiver-info {
	float: left;
	border: 1px #1BA5F8 solid;
}

.receiver-info>table {
	width: 442px;
}

.sender-info {
	margin-left: 452px;
	border: 1px #1BA5F8 solid;
}

.sender-info>table {
	width: 572px;
}

/* 下拉列表 */
.logistics-confirm .table th div.pop-menu {
	position: relative;
}

.logistics-confirm .table tr td {
	height: 72px;
	vertical-align: middle;
}

.sender-name {
	display: inline-block;
	width: 90px;
	white-space: nowrap;
	overflow: hidden;
	text-overflow: ellipsis;
}
/* 发货信息 end  */
/* 下拉快递信息 */
.dropdown-body {
    text-align: center;
    min-height: 60px;
    font-size: 12px;
    position: relative;
    background-color: rgb(255, 255, 255);
    line-height: 1.8;
}

.select-delivery {
    position: absolute;
    width: 100%;
	top: 33px;
    z-index: 100;
    background-color: white;
    color: black;
    opacity: 1.0;
}

.u-dropdown-body {
    width: 100%;
    min-height: 80px;
    box-shadow: 0 6px 12px rgba(0,0,0,.175);
    margin-bottom: 0px;
    line-height: 34px;
}

.u-dropdown-body > li:first-child {
    margin-top: 5px;
}

.u-dropdown-body > li {
    list-style: none;
}

.u-dropdown-body > li:HOVER {
    background-color: rgba(173, 169, 169, 0.175);
    cursor: pointer;
}

.delivery-input {
    z-index: 100;
    position: absolute;
	top: 33px;
    background-color: white;
    color: black;
    opacity: 1.0;
    width: 252px;
	right: 6px;
    padding: 5px;
    border: 1px solid #dddddd;
    box-shadow: 0 6px 12px rgba(0,0,0,.175);
}

.delivery-input label {
	line-height: 32px;
}

.delivery-input .form-group {
	margin-bottom: 0px;
}

.delivery-inline {
	display: inline-flex;
	padding: 5px 0;
}

.padding-left-right-zero {
	padding-left: 0px;
	padding-right: 0px;
}

.margin-right {
	margin-right: 40px;
}

.select-address {
	position: absolute;
	top: 33px;
	width: 320px;
	background-color: white;
	color: black;
	right: -8px;
    z-index: 100;
    font-size: 12px;
	padding: 5px;
    border: 1px solid #dddddd;
    box-shadow: 0 6px 12px rgba(0,0,0,.175);
}

.new-address {
	text-align: center;
	padding: 5px 10px;
	line-height: 24px;
}

.new-address-link {
	color: #F83030;
	font-size: 14px;
}

.color_orange {
    color: #fc5e17;
}

.submit-button {
	margin-left: 75px;
	background-color: #1C6CBE;
}

.cancel-button {
	float: right;
	background-color: #F19532;
}

.width-full {
	width: 100%;
}

.input-suggestion {
	position: absolute;
    width: 161px;
    background-color: #fff;
    border: 1px solid #bbb;
    top: 34px;
    z-index: 20;
}

.logistics-info {
	position: relative;
}

.ul-scroll{
	overflow: scroll;
	overflow-y:auto;
	max-height: 310px;
	line-height:2.5;
	padding-left:10px;
	margin-bottom :0px;
}

div label {
	margin-bottom: 0px;
}

.input-suggestion ul li:hover, .suggestion ul li.active, ul li.active {
	background: #eee;
}

.input-group .logistics-input{
	width:144px;
}

.input-group-btn .open-suggestion {
	background-color: #2A53A7;
	color: #FFFFFF;
}

.input-group-btn .open-suggestion:hover,
.input-group-btn .open-suggestion:focus,
.input-group-btn .open-suggestion:active {
	background-color: #2A53A7;
	color: #FFFFFF;
}

.logistics-label{
	width:76px;
}

.logistics-confirm .table tr td.edit-area {
	padding: 0;
}

#save-btn {
	width: 158px;
	height: 50px;
	line-height: 36px;
	font-size: 20px;
	background-color: #DE0E10;
}

#save-btn:hover {
	background-color: #696969;
}

#cancle-btn {
	width: 158px;
	height: 50px;
	line-height: 36px;
	margin-left: 40px;
	font-size: 20px;
	background-color: #808080;
}

#cancle-btn:hover {
	background-color: #696969;
}
</style>
<div class="margin-15">
	<!-- 发货信息 start -->
	<div class="title-div"><span class="titleSpan">物流信息</span></div>
	<div class="logistics-confirm" ng-repeat="invoice in checkinvoice">
		<div>
			<!-- 收货信息 start -->
			<div class="receiver-info">
				<table class="table table-bordered cust-table">
					<tr>
						<th width="100">收货单位</th>
						<th width="142">收货地址</th>
						<th width="200">收货人</th>
					</tr>
					<tr ng-if="addrs.length !== 0">
						<td><div ng-cloak>{{invoice.buyerentername || '/'}}</div></td>
						<td>
							<div ng-cloak>
								{{invoice.jsonSpAddress.area}}<br/>
								{{invoice.jsonSpAddress.detailAddress}}
							</div>
						</td>
						<td>
							<div ng-cloak>
								姓名：{{invoice.jsonSpAddress.name}}<br/>
								电话：{{invoice.jsonSpAddress.tel}}<br/>
								邮箱：{{invoice.jsonSpAddress.email}}
							</div>
						</td>
					</tr>
				</table>
			</div>
			<!-- 收货信息 end -->
			<!-- 收货信息 start -->
			<div class="sender-info">
				<table class="table table-bordered cust-table">
					<tr>
						<th width="106">发货方</th>
						<th width="152">
							<div class="pop-menu">
								配送方式 <i class="fa fa-caret-down fa-lg" ng-click="setShow(invoice);" ng-class="{'fa-caret-up': invoice.show}"></i>
								<div class="select-delivery" ng-show="invoice.show">
									<ul class="u-dropdown-body">
										<li ng-click="selectDelivery(invoice, 'logistics')"><div>第三方物流</div></li>
										<li ng-click="selectDelivery(invoice, 'selfDelivery')"><div>自己送货</div></li>
									</ul>
								</div>
								<div class="delivery-input row" ng-if="invoice.deliveryShow == 'logistics'">
									<form name="logisticsForm">
										<div class="form-group delivery-inline col-xs-12 logistics-info" >
											<label class="col-xs-6 padding-left-right-zero logistics-label">物流公司</label>
											<div class="input-group col-xs-4">
												<input class="form-control logistics-input" type="text" placeholder="物流公司名称" ng-model="logistics.companyName" autocomplete="off" required="required" name="companyName" ng-keydown="onKeyDown()" ng-focus="onFocus()" ng-change="inputCompany()"/>
												<div class="input-suggestion" ng-show="isCompany" ng-mouseleave="clearSuggestion()" ng-mouseenter="onChooseEnter()">
													<ul class="list-unstyled ul-scroll">
														<li class="text-left" ng-repeat="company in filterCom" ng-class="{'active': selectIndex == $index}">
															<span style="display: block;" ng-bind="company.name" ng-click="chooseCompany(company)"></span>
														</li>
													</ul>
												</div>
												<span class="input-group-btn">
        											<button class="btn btn-default open-suggestion" type="button" style="width: 20px;padding: 6px 0;" ng-click="openSuggestion()"><i class="fa fa-caret-down fa-lg" ng-class="{'fa-caret-up': isCompany}"></i></button>
												</span>
											</div>
										</div>
										<div class="form-group delivery-inline col-xs-12">
											<label class="col-xs-6 padding-left-right-zero">物流单号</label>
											<input class="form-control col-xs-4" type="text" placeholder="物流单号" autocomplete="off" ng-pattern="/^\+?[1-9][0-9]*$/" ng-model="logistics.number" name="number" required="required"/>
										</div>
										<div>
											<button ng-click="deliveryComfirm(invoice, 'logistics')" class="btn btn-sm btn-primary submit-button" type="submit" ng-disabled="logisticsForm.$invalid">提交</button>
											<button ng-click="cancle(invoice)" class="btn btn-sm btn-info cancel-button">取消</button>
										</div>
									</form>
								</div>
								<div class="delivery-input row" ng-if="invoice.deliveryShow == 'selfDelivery'">
									<form name="selfForm">
										<div class="form-group delivery-inline col-xs-12">
											<label class="col-xs-6 padding-left-right-zero">送货人</label>
											<input class="form-control col-xs-4" type="text" placeholder="送货人" ng-model="selfDeliveryPerson.name" required="required" name="name"/>
										</div>
										<div class="form-group delivery-inline col-xs-12">
											<label class="col-xs-6 padding-left-right-zero">送货人电话</label>
											<input class="form-control col-xs-4" type="text" ng-length="11" name="tel" ng-pattern="/^((\(\d{3}\))|(\d{3}\\-))?(13|15|17|18)\d{9}$/" placeholder="8位以上手机号码" ng-model="selfDeliveryPerson.phone" required="required"/>
										</div>
										<div>
											<button class="btn btn-sm btn-primary submit-button" ng-click="deliveryComfirm(invoice, 'selfDelivery')" type="submit" ng-disabled="selfForm.$invalid">提交</button>
											<button ng-click="cancle(invoice)" class="btn btn-sm btn-info cancel-button">取消</button>
										</div>
									</form>
								</div>
							</div>
						</th>
						<th width="94">发货人</th>
						<th width="220">
							<div class="pop-menu">
								发货地址信息<i class="fa fa-caret-down fa-lg" ng-click="setAddrShow(invoice)" ng-class="{'fa-caret-up': invoice.addrShow}"></i>
								<div class="select-address" ng-if="invoice.addrShow">
									<div class="new-address"><a class="new-address-link" ng-click="editAddr(true)"><i class="fa fa-plus"></i>&nbsp;新增发货地址</a></div>
									<div>
										<table class="table table-bordered cust-table shipper-table">
											<tr ng-repeat="add in addresss" ng-click="chooseAdd(invoice, add)">
												<td width="94">
													<span ng-bind="add.name"></span>
													<span ng-bind="add.tel"></span>
												</td>
												<td width="140">
													<span ng-bind="add.area"></span>
													<span ng-bind="add.detailAddress"></span>
												</td>
												<td width="44" class="edit-area">
													<span ng-click="editAddr(false, add)"><a class="color_orange"><i class="fa fa-pencil-square-o"></i>编辑</a></span><br>
													<span ng-click="deleteAddr(add)"><a class="color_orange"><i class="fa fa-times"></i>删除</a></span>
												</td>
											</tr>
										</table>
									</div>
								</div>
							</div>
						</th>
					</tr>
					<tr>
						<td><div ng-cloak><span ng-bind="invoice.sellername"></span></div></td>
						<td>
							<div class="width-full" ng-if="invoice.deliveryType == 'logistics'" ng-cloak>
								物流公司：{{ logistics.companyName }}<br/>
								物流单号：{{ logistics.number }}
							</div>
							<div class="width-full" ng-if="invoice.deliveryType == 'selfDelivery'">
								送货人：{{ selfDeliveryPerson.name }}<br/>
								送货人电话：{{ selfDeliveryPerson.phone }}
							</div>
						</td>
						<td>
							<div ng-cloak>
								<span class="sender-name">姓名：{{jsonSdAddress.name}}</span><br/>
								<span>电话：{{ jsonSdAddress.tel }}</span>
							</div>
						</td>
						<td>
							<div class="block width-full" ng-cloak>
								{{jsonSdAddress.area}}<br/>
								{{jsonSdAddress.detailAddress}}
							</div>
						</td>
					</tr>
				</table>
			</div>
			<div class="clearfix"></div>
		</div>
		<div class="invoice-info">
			<div class="totalPrice">总价值：<span class="text-num" ng-bind="invoice.price | number"></span></div>
			<div class="createTime">填写时间：<span class="text-num" ng-bind="invoice.creattime | date: 'yyyy-MM-dd HH:mm'"></span></div>
		</div>
	</div>
	<!-- 物流确认 end -->
	<div class="text-center">
		<a role="button" class="btn btn-primary" id="save-btn" ng-click="saveCheck()">确认发货</a>
		<a role="button" class="btn btn-primary" id="cancle-btn" ng-click="goBack()">取消发货</a>
	</div>
</div>
